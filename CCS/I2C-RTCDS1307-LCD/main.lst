CCS PCH C Compiler, Version 5.015, 5967               26-Jul-23 12:12

               Filename:   C:\18F4520\CCS\I2C-RTCDS1307-LCD\main.lst

               ROM used:   2900 bytes (9%)
                           Largest free fragment is 29216
               RAM used:   106 (7%) at main() level
                           158 (10%) worst case
               Stack used: 7 locations (5 in main + 2 for interrupts)
               Stack size: 31

*
0000:  GOTO   0100
*
0008:  MOVWF  04
000A:  MOVFF  FD8,05
000E:  MOVFF  FE0,06
0012:  MOVLB  0
0014:  MOVFF  FE9,0C
0018:  MOVFF  FEA,07
001C:  MOVFF  FE1,08
0020:  MOVFF  FE2,09
0024:  MOVFF  FD9,0A
0028:  MOVFF  FDA,0B
002C:  MOVFF  FF3,12
0030:  MOVFF  FF4,13
0034:  MOVFF  FFA,14
0038:  MOVFF  00,0E
003C:  MOVFF  01,0F
0040:  MOVFF  02,10
0044:  MOVFF  03,11
0048:  BTFSS  F9D.0
004A:  GOTO   0054
004E:  BTFSC  F9E.0
0050:  GOTO   0444
0054:  MOVFF  0E,00
0058:  MOVFF  0F,01
005C:  MOVFF  10,02
0060:  MOVFF  11,03
0064:  MOVFF  0C,FE9
0068:  MOVFF  07,FEA
006C:  BSF    07.7
006E:  MOVFF  08,FE1
0072:  MOVFF  09,FE2
0076:  MOVFF  0A,FD9
007A:  MOVFF  0B,FDA
007E:  MOVFF  12,FF3
0082:  MOVFF  13,FF4
0086:  MOVFF  14,FFA
008A:  MOVF   04,W
008C:  MOVFF  06,FE0
0090:  MOVFF  05,FD8
0094:  RETFIE 0
.................... #include <18F4520.h>   //Kullanilan mikrodenetleyicinin surucusu derleyici uzerinde kaynak dosyasina tanimlanir. 
.................... //////////// Standard Header file for the PIC18F4520 device //////////////// 
.................... /////////////////////////////////////////////////////////////////////////// 
.................... ////        (C) Copyright 1996, 2013 Custom Computer Services          //// 
.................... //// This source code may only be used by licensed users of the CCS C  //// 
.................... //// compiler.  This source code may only be distributed to other      //// 
.................... //// licensed users of the CCS C compiler.  No other use, reproduction //// 
.................... //// or distribution is permitted without written permission.          //// 
.................... //// Derivative programs created using this software in object code    //// 
.................... //// form are not restricted in any way.                               //// 
.................... /////////////////////////////////////////////////////////////////////////// 
.................... #device PIC18F4520 
0096:  MOVFF  FF2,0D
009A:  BCF    FF2.7
009C:  CLRF   FF7
009E:  ADDLW  B0
00A0:  MOVWF  FF6
00A2:  MOVLW  00
00A4:  ADDWFC FF7,F
00A6:  TBLRD*+
00A8:  MOVF   FF5,W
00AA:  BTFSC  0D.7
00AC:  BSF    FF2.7
00AE:  RETURN 0
00B0:  DATA 49,4E
00B2:  DATA 46,4F
00B4:  DATA 52,4D
00B6:  DATA 45,4C
00B8:  DATA 45,4B
00BA:  DATA 54,52
00BC:  DATA 4F,4E
00BE:  DATA 49,4B
00C0:  DATA 41,52
00C2:  DATA 2D,47
00C4:  DATA 45,20
00C6:  DATA 20,20
00C8:  DATA 20,53
00CA:  DATA 54,41
00CC:  DATA 4A,59
00CE:  DATA 45,52
00D0:  DATA 00,00
00D2:  DATA 20,20
00D4:  DATA 25,30
00D6:  DATA 32,64
00D8:  DATA 20,3A
00DA:  DATA 20,25
00DC:  DATA 30,32
00DE:  DATA 64,20
00E0:  DATA 3A,20
00E2:  DATA 25,30
00E4:  DATA 32,64
00E6:  DATA 20,20
00E8:  DATA 20,25
00EA:  DATA 73,20
00EC:  DATA 2D,20
00EE:  DATA 25,30
00F0:  DATA 32,64
00F2:  DATA 2F,25
00F4:  DATA 30,32
00F6:  DATA 64,2F
00F8:  DATA 25,30
00FA:  DATA 32,64
00FC:  DATA 00,00
*
0402:  CLRF   01
0404:  CLRF   02
0406:  CLRF   00
0408:  CLRF   03
040A:  MOVF   x9C,W
040C:  BNZ   0412
040E:  MOVF   x9B,W
0410:  BZ    0442
0412:  MOVLW  10
0414:  MOVWF  x9D
0416:  BCF    FD8.0
0418:  RLCF   x99,F
041A:  RLCF   x9A,F
041C:  RLCF   00,F
041E:  RLCF   03,F
0420:  MOVF   x9C,W
0422:  SUBWF  03,W
0424:  BNZ   042A
0426:  MOVF   x9B,W
0428:  SUBWF  00,W
042A:  BNC   043A
042C:  MOVF   x9B,W
042E:  SUBWF  00,F
0430:  BTFSS  FD8.0
0432:  DECF   03,F
0434:  MOVF   x9C,W
0436:  SUBWF  03,F
0438:  BSF    FD8.0
043A:  RLCF   01,F
043C:  RLCF   02,F
043E:  DECFSZ x9D,F
0440:  BRA    0416
0442:  RETURN 0
*
06F0:  MOVFF  FF2,0D
06F4:  BCF    FF2.7
06F6:  ADDWF  FE8,W
06F8:  CLRF   FF7
06FA:  RLCF   FF7,F
06FC:  ADDLW  15
06FE:  MOVWF  FF6
0700:  MOVLW  07
0702:  ADDWFC FF7,F
0704:  TBLRD*-
0706:  MOVF   FF5,W
0708:  MOVWF  FFA
070A:  TBLRD*
070C:  MOVF   FF5,W
070E:  BTFSC  0D.7
0710:  BSF    FF2.7
0712:  MOVWF  FF9
0714:  DATA 36,06
0716:  DATA 3C,06
0718:  DATA 4E,06
071A:  DATA 56,06
071C:  DATA 6C,06
071E:  DATA 82,06
0720:  DATA 98,06
0722:  DATA AC,06
0724:  DATA C0,06
0726:  DATA D4,06
0728:  DATA E8,06
*
0804:  MOVFF  FF2,0D
0808:  BCF    FF2.7
080A:  ADDWF  FE8,W
080C:  CLRF   FF7
080E:  RLCF   FF7,F
0810:  ADDLW  29
0812:  MOVWF  FF6
0814:  MOVLW  08
0816:  ADDWFC FF7,F
0818:  TBLRD*-
081A:  MOVF   FF5,W
081C:  MOVWF  FFA
081E:  TBLRD*
0820:  MOVF   FF5,W
0822:  BTFSC  0D.7
0824:  BSF    FF2.7
0826:  MOVWF  FF9
0828:  DATA 88,07
082A:  DATA 8E,07
082C:  DATA A0,07
082E:  DATA A8,07
0830:  DATA AE,07
0832:  DATA B8,07
0834:  DATA CE,07
0836:  DATA E4,07
0838:  DATA FC,07
*
0A4C:  MOVFF  69,FEA
0A50:  MOVFF  68,FE9
0A54:  MOVFF  77,FEF
0A58:  INCF   FE9,F
0A5A:  BTFSC  FD8.2
0A5C:  INCF   FEA,F
0A5E:  CLRF   FEF
0A60:  INCF   68,F
0A62:  BTFSC  FD8.2
0A64:  INCF   69,F
0A66:  RETURN 0
0A68:  MOVF   78,W
0A6A:  CLRF   01
0A6C:  SUBWF  77,W
0A6E:  BC    0A76
0A70:  MOVFF  77,00
0A74:  BRA    0A8E
0A76:  CLRF   00
0A78:  MOVLW  08
0A7A:  MOVWF  79
0A7C:  RLCF   77,F
0A7E:  RLCF   00,F
0A80:  MOVF   78,W
0A82:  SUBWF  00,W
0A84:  BTFSC  FD8.0
0A86:  MOVWF  00
0A88:  RLCF   01,F
0A8A:  DECFSZ 79,F
0A8C:  BRA    0A7C
0A8E:  RETURN 0
0A90:  MOVLW  20
0A92:  BTFSS  72.4
0A94:  MOVLW  30
0A96:  MOVWF  73
0A98:  MOVFF  71,00
0A9C:  BTFSS  71.7
0A9E:  BRA    0AB0
0AA0:  COMF   00,F
0AA2:  INCF   00,F
0AA4:  MOVFF  00,71
0AA8:  MOVLW  2D
0AAA:  MOVWF  73
0AAC:  BSF    72.7
0AAE:  BSF    72.0
0AB0:  MOVF   01,W
0AB2:  MOVFF  71,77
0AB6:  MOVLW  64
0AB8:  MOVWF  78
0ABA:  RCALL  0A68
0ABC:  MOVFF  00,71
0AC0:  MOVLW  30
0AC2:  ADDWF  01,W
0AC4:  MOVWF  74
0AC6:  MOVFF  71,77
0ACA:  MOVLW  0A
0ACC:  MOVWF  78
0ACE:  RCALL  0A68
0AD0:  MOVLW  30
0AD2:  ADDWF  00,W
0AD4:  MOVWF  76
0AD6:  MOVLW  30
0AD8:  ADDWF  01,W
0ADA:  MOVWF  75
0ADC:  MOVFF  73,00
0AE0:  MOVLW  30
0AE2:  SUBWF  74,W
0AE4:  BZ    0AEE
0AE6:  BSF    72.1
0AE8:  BTFSC  72.7
0AEA:  BSF    72.2
0AEC:  BRA    0B12
0AEE:  BTFSC  72.2
0AF0:  BRA    0B12
0AF2:  MOVFF  73,74
0AF6:  BTFSC  72.1
0AF8:  BRA    0B02
0AFA:  MOVLW  30
0AFC:  SUBWF  75,W
0AFE:  BZ    0B08
0B00:  BSF    72.0
0B02:  BTFSC  72.7
0B04:  BSF    72.1
0B06:  BRA    0B12
0B08:  BTFSS  FD8.2
0B0A:  BSF    72.0
0B0C:  BTFSC  FD8.2
0B0E:  MOVFF  74,75
0B12:  BTFSC  72.2
0B14:  BRA    0B20
0B16:  BTFSC  72.1
0B18:  BRA    0B26
0B1A:  BTFSC  72.0
0B1C:  BRA    0B2C
0B1E:  BRA    0B32
0B20:  MOVFF  73,77
0B24:  RCALL  0A4C
0B26:  MOVFF  74,77
0B2A:  RCALL  0A4C
0B2C:  MOVFF  75,77
0B30:  RCALL  0A4C
0B32:  MOVFF  76,77
0B36:  RCALL  0A4C
0B38:  RETURN 0
0B3A:  TBLRD*+
0B3C:  MOVFF  FF6,72
0B40:  MOVFF  FF7,73
0B44:  MOVFF  FF5,77
0B48:  RCALL  0A4C
0B4A:  MOVFF  72,FF6
0B4E:  MOVFF  73,FF7
0B52:  DECFSZ 71,F
0B54:  BRA    0B3A
0B56:  RETURN 0
0B58:  MOVF   FEF,F
0B5A:  BZ    0B7A
0B5C:  MOVFF  FEA,72
0B60:  MOVFF  FE9,71
0B64:  MOVFF  FEF,77
0B68:  RCALL  0A4C
0B6A:  MOVFF  72,FEA
0B6E:  MOVFF  71,FE9
0B72:  INCF   FE9,F
0B74:  BTFSC  FD8.2
0B76:  INCF   FEA,F
0B78:  BRA    0B58
0B7A:  GOTO   0C80 (RETURN)
*
0CD8:  MOVFF  FF2,0D
0CDC:  BCF    FF2.7
0CDE:  ADDWF  FE8,W
0CE0:  CLRF   FF7
0CE2:  RLCF   FF7,F
0CE4:  ADDLW  FD
0CE6:  MOVWF  FF6
0CE8:  MOVLW  0C
0CEA:  ADDWFC FF7,F
0CEC:  TBLRD*-
0CEE:  MOVF   FF5,W
0CF0:  MOVWF  FFA
0CF2:  TBLRD*
0CF4:  MOVF   FF5,W
0CF6:  BTFSC  0D.7
0CF8:  BSF    FF2.7
0CFA:  MOVWF  FF9
0CFC:  DATA 8E,0B
0CFE:  DATA 94,0B
0D00:  DATA A6,0B
0D02:  DATA B0,0B
0D04:  DATA B6,0B
0D06:  DATA C0,0B
0D08:  DATA D6,0B
0D0A:  DATA EC,0B
0D0C:  DATA 02,0C
0D0E:  DATA 1A,0C
....................  
.................... #list 
....................  
....................  
.................... /*FUSES: cihaza bagli cesitli opsiyonlari ayarlamak icin kullanilir. Mevcut ozellikleri en ustte belirtilir.  
....................        Konfigurasyon bileri vardir, bu komut ile mikrodenetleyicinin konfigurasyon pinleri ayarlanýr. 
....................   Yaygin kullanilan cihaz secenekleri: 
....................       Â· LP, XT, HS, RC :LP dusuk guclu kristal osilator, XT klasik kristal osilator, HS yuksek hizli kristal osilator, RC Direnc / Kondansator osilator 
....................       Â· WDT, NOWDT  :Programin olasi kilitlenmelerde resetlenmesini saðlar. WDT dersek bu mod aktif, NOWDT dersek bu mod pasiftir.      
....................       Â· PROTECT, NOPROTECT :Kod koruma, mikrokontrollerin içine yükleyecegin kodlar kopyalananaz demek, NOPROTECT ise kodlar geriye okunup kopyalanabilir demektir.  
....................       Â· PUT, NOPUT (Power Up Timer) : NOPUT, zamanlayicilar kapali demek, yani timer olarak gecen zaman dongulerini kullanmayacagini belirtirsin. 
....................       Â· BROWNOUT, NOBROWNOUT:Dusuk gerilimle program reset, bu ozellik gerilim seviyesi belli bir degerin altina dustugunde, mikrokontrollerin reset atmasidir, 
....................           genelde NOBROWNOUT modunda tutulur, eyer BROWNOUT olarak kullanilirsa, ani gerilim dalgalanmalarinda sistem surrekli resetlenir. 
....................       Â· INTRC: Internal, dahili osilatoru kullan anlamina gelir.     
....................       Â· NOMCLR: Master Clear functionality, MCLR girisi PIC'i resetlemek icin kullanilir. Bu fuse yoksa #FUSE MCLR ve MCLR pini 10k ile 5V a  
.................... Tum #FUSES ozelliklerini kapatmak icin " #FUSES none" kullanilir.                               
.................... */                                
....................                                                          
.................... #FUSES WDT, WDT1, NOLVP,NOCPD, NOWRT, NOMCLR, IESO, INTRC  
.................... #use delay (internal=8MHz)                   
.................... #use rs232(baud=9600, xmit=PIN_C6,rcv=PIN_C7) 
.................... //#use i2c(Master, Fast=100000, sda=PIN_C4, scl=PIN_C3, SMBUS)             
....................                                             
.................... #include "definitions.h"                                                                                                       
.................... #ifndef DEFINITIONS_H      
.................... #define DEFINITIONS_H    
....................  
.................... typedef unsigned int32  uint32_t;                                                      
.................... typedef unsigned int16  uint16_t; 
.................... typedef signed   int16  sint16_t;  
.................... typedef unsigned int8   uint8_t;  
....................  
.................... typedef       float32   float32_t; 
.................... typedef unsigned char   uchar_t;   
....................                              
....................                
.................... #endif //DEFINITIONS_H       
....................  
.................... #include "main.h"                                                
.................... #ifndef MAIN_H      
.................... #define MAIN_H  
.................... #define DELAY 500  
....................                             
.................... void WDTreset(void);   
....................                      
.................... #endif //MAIN_H                                 
....................  
....................                                                                                                                
....................                                
....................  
.................... #include "delayms.h"                                 
.................... #ifndef DELAYMS_H   
.................... #define DELAYMS_H    
....................  
.................... void delayMsFun(uint16_t);  
.................... void delayUsFun(uint8_t us); 
....................  
.................... #endif //DELAYMS_H   
....................  
.................... #include "ucregisters.h"                                     
.................... #ifndef UCREGISTER_H 
.................... #define UCREGISTER_H 
....................  
....................                         
.................... //Analog PINS            
.................... #byte TRISA = 0x0F92     
.................... #byte PORTA = 0x0F80 
.................... #bit  PORTA_DIR_0=TRISA.0  
.................... #bit  PORTA_0=PORTA.0   
.................... #bit  PORTA_DIR_1=TRISA.1  
.................... #bit  PORTA_1=PORTA.1   
....................                        
.................... //Control PINS 
.................... #byte TRISB = 0x0F93      
.................... #byte PORTB = 0x0F81  
.................... #bit  PORTB_0=PORTB.0 
.................... #bit  PORTB_7=PORTB.7  
....................  
.................... // LCD PINS 
.................... #byte TRISD = 0x0F95                      
.................... #byte PORTD = 0x0F8C                      
.................... #bit  PORTD_7=PORTD.7     
....................  
.................... //LCD Control Pins 
.................... #byte TRISE = 0x0F96 
.................... #byte PORTE = 0x0F84                        
.................... #bit  PORTE_RS=PORTE.0        
.................... #bit  PORTE_E=PORTE.1 
.................... #bit  PORTE_RW=PORTE.2  
....................  
....................    
.................... #byte TRISC = 0x0F94  
.................... #byte PORTC = 0x0F82             
.................... #bit  TRISC_6=TRISC.6  
.................... #bit  TRISC_7=TRISC.7   
....................                             
....................   
....................  
....................                           
.................... //OSILATOR - 8MHZ 
.................... #byte OSCCON = 0x0FD3        
.................... #bit  IRCF2 =OSCCON.6   
.................... #bit  IRCF1 =OSCCON.5                      
.................... #bit  IRCF0 =OSCCON.4  
....................         
.................... //TIMER1 INTERRUPT BYTE adresleri 
....................     
.................... #byte RCON = 0x0FD0    // RCON REGISTER 
.................... #byte INTCON = 0x0FF2  // INTCON REGISTER  
.................... #byte IPR1 = 0x0F9F    // Cevresel kesme onceligi                          
.................... #byte PIR1 = 0x0F9E    // Cevresel kesme istegi (Bayrak) 
.................... #byte PIE1 = 0x0F9D    // Cevresel kesme yetkisi  
.................... #byte T1CON  = 0x0FCD  // TIMER1 kontrol kayitcisi  
.................... #byte TMR1H = 0x0FCF   // TIMER1'in ta;ma sayacinin son 8 biti                                      
.................... #byte TMR1L = 0x0FCE   // TIMER1'in ta;ma sayacinin ilk 8 biti 
.................... //   #############TIMER 1########                                                            
.................... //# RCON  :: RCON REGISTER // Bit Adresleri                                     
.................... #bit RCON_IPEN = RCON.7        // Enable priority levels on interrupts                    
.................... //# INTCON  :: INTCON REGISTER // Bit Adresleri       
.................... #bit INTCON_GIE_GIEH = INTCON.7  // Global Interrupt Enable bit  
.................... #bit INTCON_PEIE = INTCON.6      // INTCON_PEIE=1, Enables all high priority interrupts 
.................... //# IPR1  :: IPR1 REGISTER // Bit Adresleri  
.................... #bit IPR1_TMR1IP = IPR1.0  // TMR1 Overflow Interrupt Priority bit                                         
.................... //# PIR1  :: PIR1 REGISTER // Bit Adresleri 
.................... #bit PIR1_TMR1IF=PIR1.0    // TMR1 Overflow Interrupt Flag bit     
.................... //# PIE1  :: PIE1 REGISTER // Bit Adresleri  
.................... #bit PIE1_TMR1IE=PIE1.0    // TMR1 Overflow Interrupt Enable bit      
.................... //#T0CON  :: TIMER0 CONTROL REGISTER // Bit Adresleri 
.................... #bit T1CON_RD16    = T1CON.7     // 16-bit Read/Write Mode Enable bit 
.................... #bit T1CON_T1RUN   = T1CON.6     // Timer1 System Clock Status bit 
.................... #bit T1CON_T1CKPS1 = T1CON.5     // Timer1 Input Clock Prescale Select bits                              
.................... #bit T1CON_T1CKPS0 = T1CON.4     // Timer1 Input Clock Prescale Select bits 
.................... #bit T1CON_T1OSCEN = T1CON.3     // Timer1 Oscillator Enable bit 
.................... #bit T1CON_T1SYNC  = T1CON.2     // Timer1 External Clock Input Synchronization Select bit 
.................... #bit T1CON_TMR1CS  = T1CON.1     // Timer1 Clock Source Select bit  
.................... #bit T1CON_TMR1ON  = T1CON.0     // Timer1 On bit          
....................                                                                  
.................... //   ################   RS232/EUSART   #################  //    
.................... #byte  RCSTA   = 0x0FAB    // RCSTA: RECEIVE STATUS AND CONTROL REGISTER 
.................... #byte  BAUDCON = 0x0FB8    // BAUDCON: BAUD RATE CONTROL REGISTER                        
.................... #byte  TXSTA   = 0x0FAC    // TXSTA: TRANSMIT STATUS AND CONTROL REGISTER  
.................... #byte  SPBRGH  = 0x0FB0    // EUSART Baud Rate Generator Register, High Byte                          
.................... #byte  SPBRG   = 0x0FAF    // EUSART Baud Rate Generator Register, Low Byte   
.................... #byte  TXREG   = 0x0FAD    // EUSART Transmit Register                             
.................... #byte  RCREG   = 0x0FAE    // EUSART Receive Register 
....................  
.................... #bit   OERR_RCSTA= RCSTA.1  // Overrun Error bit 
.................... #bit   CREN_RCSTA= RCSTA.4  // Continuous Receive Enable bit    
.................... #bit   TXIF_PIR1 = PIR1.4   // EUSART Transmit Interrupt Flag bit 
.................... #bit   RCIF_PIR1 = PIR1.5   // EUSART Receive Interrupt Flag bit  
.................... #bit   RCIE_PIE1 = PIE1.5   // EUSART Receive Interrupt Enable bit  
.................... #bit   TXIE_PIE1 = PIE1.4   // EUSART Transmit Interrupt Enable bit     
....................  
.................... //   ################   ADC CONVERTER   #################  //  
.................... #byte ADRESH = 0x0FC4     
.................... #byte ADRESL = 0x0FC3  
.................... #byte ADCON0 = 0x0FC2  
.................... #bit  ADON   = ADCON0.0 
.................... #bit  GODONE = ADCON0.1  
.................... #byte ADCON1 = 0x0FC1 
.................... #bit  PCFG0  = ADCON1.0    
.................... #bit  PCFG1  = ADCON1.1 
.................... #byte ADCON2 = 0x0FC0   
.................... #bit  ADIE   = PIE1.6   
.................... #bit  ADIF   = PIR1.6        
....................  
.................... //   ################   PWM CCP1   #################  //     
.................... #byte PR2     = 0x0FCB 
.................... #byte TMR2    = 0x0FCC                                                 
.................... #byte T2CON   = 0x0FCA  
....................  
.................... #byte CCP1CON = 0x0FBD   
.................... #byte CCPR1H  = 0x0FBF  
.................... #byte CCPR1L  = 0x0FBE  
....................                        
.................... #bit  TMR2ON  = T2CON.2   
.................... #bit  TRISC_2=TRISC.2                       
.................... #bit  PORTC_2=PORTC.2    
....................                                              
.................... //   ################   I2C - SCL/SDA   #################  //    
.................... #bit  SCL_DIR=TRISC.3         // SCL GIRIS DIRECTION                                 
.................... #bit  SDA_DIR=TRISC.4         // SDA GIRIS DIRECTION  
....................                                
.................... #byte SSPBUF  = 0x0FC9        // VERI GONDERIRKEN VE ALIRKEN BU 8 BITLIK REGISTER KULLANILIR                        
.................... #byte SSPADD  = 0x0FC8        // VERI HIZIMIZI BELIRLEMEK ICIN KULLANILIR, 8 MHz 100Kbps ICIN 19 OLMALI (8MHZ/4/100Kbps)-1=19 
.................... #byte SSPSTAT = 0x0FC7        // VERI HIZI VE BF KONTROLU SAGLANIYOR                                                                  
.................... #bit  BF      = SSPSTAT.0     // BUFFER(SSPBUF REGISTER)'IN BOS VEYA DOLU OLUP OLMADIGININ KONTROLUNU YAPAR. 
....................                               //             0x2------------------------>8(0x28)                                                                                         
.................... #byte SSPCON1 = 0x0FC6        // SDA VE SCL'YI AKTIF EDIYORUZ || I2C'YI MASTER MODUNA ALIYORUZ()  URETECEGIMIZ SAAT FREKANSI clock = FOSC/(4 * (SSPADD + 1))  
.................... #byte SSPCON2 = 0x0FC5        // MASTER MODDA KONTROL ILETISIMI SAGLAMAK ICIN KOMUT BITLERI BULUNMAKTADIR. 
.................... #bit  SEN     = SSPCON2.0     // SCL VE SDA PINLERI UZERINDEN START KOMUTU VERIR, SONRASINDA OTOMATIK OLARAK SIFIRLANIR.        *(SADECE MASTER MODE)       
.................... #bit  RSEN    = SSPCON2.1     // SCL VE SDA PINLERI UZERINDEN TEKRAR START KOMUTU VERIR, SONRASINDA OTOMATIK OLARAK SIFIRLANIR. *(SADECE MASTER MODE)  
.................... #bit  PEN     = SSPCON2.2     // SCL VE SDA PINLERI UZERINDEN STOP KOMUTU VERIR, SONRASINDA OTOMATIK OLARAK SIFIRLANIR.         *(SADECE MASTER MODE)  
.................... #bit  RCEN    = SSPCON2.3     // READ KOMUTU VERIR BF, BUFFER DOLU MU DIYE KONTRO EDILIR, DOLUYSA SSPBUF'DAKI VERI DOLU OLDUGU ANLASILIR VE OKUMA ISLEMI TAMAMLANIR. *(SADECE MASTER MODE)  
.................... #bit  ACKEN   = SSPCON2.4     // SCL VE SDA PINLERI UZERINDEN ACKNOWLEDGE KOMUTU VERIR,VERININ GELIP GELMEDIGINI KONTROL EDER, SONRASINDA OTOMATIK OLARAK SIFIRLANIR. *(SADECE MASTER MODE OKUMA)   
.................... #bit  ACKDT   = SSPCON2.5     // SCL VE SDA PINLERI UZERINDEN ACK KOMUTU VERIR,1 ise ACK, 0 ise NACK, SONRASINDA OTOMATIK OLARAK SIFIRLANIR. *(SADECE MASTER MODE OKUMA)     
.................... #bit  ACKSTAT = SSPCON2.6     // SLAVE'DEN ACK GELIP GELMEDIGININ KONTROLUNU YAPAR.                                             *(SADECE MASTER MODE GONDERME)  
....................                                                                                                       
.................... #endif UCREGISTER_H                                                                          
....................  
.................... #include "init.h"                                                                                          
.................... #ifndef INITS_H 
.................... #define INITS_H       
....................  
.................... extern uint16_t iSayac;  
.................... typedef union{   
....................    uint8_t  all;      // Type  kayitciya erismek icin 
....................    struct{ 
....................       uint8_t _2ms    : 1;  //bit:0, 2ms  
....................       uint8_t _20ms   : 1;  //bit:2, 20ms  
....................       uint8_t _50ms   : 1;  //bit:3, 50ms  
....................       uint8_t _100ms  : 1;  //bit:4, 100ms     
....................       uint8_t _200ms  : 1;  //bit:5, 200ms                   
....................       uint8_t _500ms  : 1;  //bit:6, 500ms  
....................       uint8_t _1000ms : 1;  //bit:7, 1000ms  
....................       uint8_t _200msKEYPAD     : 1; 
....................    }tmr1_flags;                     
.................... }tmr1_time_t;    
.................... extern tmr1_time_t tmr1_time;     
....................  
....................  
....................  
....................  
....................                                                 
.................... #endif //INIT_H                               
....................  
.................... #include "lcd.h" 
.................... #ifndef LCD_H                                                                                                
.................... #define LCD_H  
....................                                              
.................... extern uchar_t strLCD[32];   
.................... extern uint8_t countLCDChar; 
.................... extern uchar_t LCDW1SecFlag;         
.................... //uchar_t legrandLCDCharacter [8]= {0x08, 0x1F, 0x19, 0x11, 0x11, 0x13, 0x1F, 0x02}; 
.................... //uchar_t stickManLCDCharacter [8] = {0x0E, 0x0E, 0x04, 0x0F, 0x14, 0x0A, 0x1B, 0x00}; 
.................... void lcdcmd(uchar_t);                                                                                
.................... void lcddata(uchar_t);                                                                      
.................... void LCD_String();                                                                              
.................... //LCD (CHIP: HD44780), COMMANDS 
.................... void twoLinesBCDMode(); 
.................... void LinesActive(); 
.................... void lcdClear();                               
.................... void lcdGoToFirstLine();      
.................... void lcdGoToSecondLine(); 
.................... void lcdShiftRight(); 
.................... void lcdCursorOn();  
.................... void lcdCursorOff(); 
.................... void LCD_Custom_Char (uchar_t loc, uchar_t *msg); 
....................  
.................... #endif //LCD_H     
....................  
.................... #include "DS1307.h" 
.................... #ifndef DS1307_H      
.................... #define DS1307_H    
....................  
.................... //DS1307 TIME-DATE INFO VARIABLES   
.................... extern uchar_t sec, min, hrs; 
.................... extern uchar_t day, month, yr, dow;       
.................... extern uchar_t dayText[4];  
.................... //READ WRITE SET QUEUE 
.................... extern uchar_t timeSwitchPosition; 
.................... //LCD BUFFER 
.................... extern uchar_t DATE_TIME[32]; 
....................             
....................  
.................... void DS1307_Init();     
.................... void ds1307_run(uchar_t, uchar_t, uchar_t, uchar_t, uchar_t, uchar_t, uchar_t);   
.................... void ds1307_set_date_time(uchar_t, uchar_t, uchar_t, uchar_t, uchar_t, uchar_t, uchar_t);   
.................... void ds1307_get_date(); 
.................... void ds1307_get_time();                                     
.................... void getDayText();                     
....................                
.................... uchar_t getSec(); 
.................... uchar_t getMin();                     
.................... uchar_t getHour(); 
....................                            
.................... uchar_t getDay();  
.................... uchar_t getMonth();  
.................... uchar_t getYear(); 
.................... uchar_t getDow();                                                                  
....................                 
.................... uint16_t day_of_the_week(uint16_t, uint16_t, uint16_t );                   
....................                     
.................... #endif //DS1307_H                      
....................                                        
....................  
....................  
....................                                                              
.................... #include "lcd.c"                                  
....................  
.................... #include "definitions.h"  
.................... #ifndef DEFINITIONS_H      
.................... #define DEFINITIONS_H    
....................  
.................... typedef unsigned int32  uint32_t;                                                      
.................... typedef unsigned int16  uint16_t; 
.................... typedef signed   int16  sint16_t;  
.................... typedef unsigned int8   uint8_t;  
....................  
.................... typedef       float32   float32_t; 
.................... typedef unsigned char   uchar_t;   
....................                              
....................                
.................... #endif //DEFINITIONS_H       
....................  
.................... #include "lcd.h" 
.................... #ifndef LCD_H                                                                                                
.................... #define LCD_H  
....................                                              
.................... extern uchar_t strLCD[32];   
.................... extern uint8_t countLCDChar; 
.................... extern uchar_t LCDW1SecFlag;         
.................... //uchar_t legrandLCDCharacter [8]= {0x08, 0x1F, 0x19, 0x11, 0x11, 0x13, 0x1F, 0x02}; 
.................... //uchar_t stickManLCDCharacter [8] = {0x0E, 0x0E, 0x04, 0x0F, 0x14, 0x0A, 0x1B, 0x00}; 
.................... void lcdcmd(uchar_t);                                                                                
.................... void lcddata(uchar_t);                                                                      
.................... void LCD_String();                                                                              
.................... //LCD (CHIP: HD44780), COMMANDS 
.................... void twoLinesBCDMode(); 
.................... void LinesActive(); 
.................... void lcdClear();                               
.................... void lcdGoToFirstLine();      
.................... void lcdGoToSecondLine(); 
.................... void lcdShiftRight(); 
.................... void lcdCursorOn();  
.................... void lcdCursorOff(); 
.................... void LCD_Custom_Char (uchar_t loc, uchar_t *msg); 
....................  
.................... #endif //LCD_H     
....................  
.................... #include "ucregisters.h"  
.................... #ifndef UCREGISTER_H 
.................... #define UCREGISTER_H 
....................  
....................                         
.................... //Analog PINS            
.................... #byte TRISA = 0x0F92     
.................... #byte PORTA = 0x0F80 
.................... #bit  PORTA_DIR_0=TRISA.0  
.................... #bit  PORTA_0=PORTA.0   
.................... #bit  PORTA_DIR_1=TRISA.1  
.................... #bit  PORTA_1=PORTA.1   
....................                        
.................... //Control PINS 
.................... #byte TRISB = 0x0F93      
.................... #byte PORTB = 0x0F81  
.................... #bit  PORTB_0=PORTB.0 
.................... #bit  PORTB_7=PORTB.7  
....................  
.................... // LCD PINS 
.................... #byte TRISD = 0x0F95                      
.................... #byte PORTD = 0x0F8C                      
.................... #bit  PORTD_7=PORTD.7     
....................  
.................... //LCD Control Pins 
.................... #byte TRISE = 0x0F96 
.................... #byte PORTE = 0x0F84                        
.................... #bit  PORTE_RS=PORTE.0        
.................... #bit  PORTE_E=PORTE.1 
.................... #bit  PORTE_RW=PORTE.2  
....................  
....................    
.................... #byte TRISC = 0x0F94  
.................... #byte PORTC = 0x0F82             
.................... #bit  TRISC_6=TRISC.6  
.................... #bit  TRISC_7=TRISC.7   
....................                             
....................   
....................  
....................                           
.................... //OSILATOR - 8MHZ 
.................... #byte OSCCON = 0x0FD3        
.................... #bit  IRCF2 =OSCCON.6   
.................... #bit  IRCF1 =OSCCON.5                      
.................... #bit  IRCF0 =OSCCON.4  
....................         
.................... //TIMER1 INTERRUPT BYTE adresleri 
....................     
.................... #byte RCON = 0x0FD0    // RCON REGISTER 
.................... #byte INTCON = 0x0FF2  // INTCON REGISTER  
.................... #byte IPR1 = 0x0F9F    // Cevresel kesme onceligi                          
.................... #byte PIR1 = 0x0F9E    // Cevresel kesme istegi (Bayrak) 
.................... #byte PIE1 = 0x0F9D    // Cevresel kesme yetkisi  
.................... #byte T1CON  = 0x0FCD  // TIMER1 kontrol kayitcisi  
.................... #byte TMR1H = 0x0FCF   // TIMER1'in ta;ma sayacinin son 8 biti                                      
.................... #byte TMR1L = 0x0FCE   // TIMER1'in ta;ma sayacinin ilk 8 biti 
.................... //   #############TIMER 1########                                                            
.................... //# RCON  :: RCON REGISTER // Bit Adresleri                                     
.................... #bit RCON_IPEN = RCON.7        // Enable priority levels on interrupts                    
.................... //# INTCON  :: INTCON REGISTER // Bit Adresleri       
.................... #bit INTCON_GIE_GIEH = INTCON.7  // Global Interrupt Enable bit  
.................... #bit INTCON_PEIE = INTCON.6      // INTCON_PEIE=1, Enables all high priority interrupts 
.................... //# IPR1  :: IPR1 REGISTER // Bit Adresleri  
.................... #bit IPR1_TMR1IP = IPR1.0  // TMR1 Overflow Interrupt Priority bit                                         
.................... //# PIR1  :: PIR1 REGISTER // Bit Adresleri 
.................... #bit PIR1_TMR1IF=PIR1.0    // TMR1 Overflow Interrupt Flag bit     
.................... //# PIE1  :: PIE1 REGISTER // Bit Adresleri  
.................... #bit PIE1_TMR1IE=PIE1.0    // TMR1 Overflow Interrupt Enable bit      
.................... //#T0CON  :: TIMER0 CONTROL REGISTER // Bit Adresleri 
.................... #bit T1CON_RD16    = T1CON.7     // 16-bit Read/Write Mode Enable bit 
.................... #bit T1CON_T1RUN   = T1CON.6     // Timer1 System Clock Status bit 
.................... #bit T1CON_T1CKPS1 = T1CON.5     // Timer1 Input Clock Prescale Select bits                              
.................... #bit T1CON_T1CKPS0 = T1CON.4     // Timer1 Input Clock Prescale Select bits 
.................... #bit T1CON_T1OSCEN = T1CON.3     // Timer1 Oscillator Enable bit 
.................... #bit T1CON_T1SYNC  = T1CON.2     // Timer1 External Clock Input Synchronization Select bit 
.................... #bit T1CON_TMR1CS  = T1CON.1     // Timer1 Clock Source Select bit  
.................... #bit T1CON_TMR1ON  = T1CON.0     // Timer1 On bit          
....................                                                                  
.................... //   ################   RS232/EUSART   #################  //    
.................... #byte  RCSTA   = 0x0FAB    // RCSTA: RECEIVE STATUS AND CONTROL REGISTER 
.................... #byte  BAUDCON = 0x0FB8    // BAUDCON: BAUD RATE CONTROL REGISTER                        
.................... #byte  TXSTA   = 0x0FAC    // TXSTA: TRANSMIT STATUS AND CONTROL REGISTER  
.................... #byte  SPBRGH  = 0x0FB0    // EUSART Baud Rate Generator Register, High Byte                          
.................... #byte  SPBRG   = 0x0FAF    // EUSART Baud Rate Generator Register, Low Byte   
.................... #byte  TXREG   = 0x0FAD    // EUSART Transmit Register                             
.................... #byte  RCREG   = 0x0FAE    // EUSART Receive Register 
....................  
.................... #bit   OERR_RCSTA= RCSTA.1  // Overrun Error bit 
.................... #bit   CREN_RCSTA= RCSTA.4  // Continuous Receive Enable bit    
.................... #bit   TXIF_PIR1 = PIR1.4   // EUSART Transmit Interrupt Flag bit 
.................... #bit   RCIF_PIR1 = PIR1.5   // EUSART Receive Interrupt Flag bit  
.................... #bit   RCIE_PIE1 = PIE1.5   // EUSART Receive Interrupt Enable bit  
.................... #bit   TXIE_PIE1 = PIE1.4   // EUSART Transmit Interrupt Enable bit     
....................  
.................... //   ################   ADC CONVERTER   #################  //  
.................... #byte ADRESH = 0x0FC4     
.................... #byte ADRESL = 0x0FC3  
.................... #byte ADCON0 = 0x0FC2  
.................... #bit  ADON   = ADCON0.0 
.................... #bit  GODONE = ADCON0.1  
.................... #byte ADCON1 = 0x0FC1 
.................... #bit  PCFG0  = ADCON1.0    
.................... #bit  PCFG1  = ADCON1.1 
.................... #byte ADCON2 = 0x0FC0   
.................... #bit  ADIE   = PIE1.6   
.................... #bit  ADIF   = PIR1.6        
....................  
.................... //   ################   PWM CCP1   #################  //     
.................... #byte PR2     = 0x0FCB 
.................... #byte TMR2    = 0x0FCC                                                 
.................... #byte T2CON   = 0x0FCA  
....................  
.................... #byte CCP1CON = 0x0FBD   
.................... #byte CCPR1H  = 0x0FBF  
.................... #byte CCPR1L  = 0x0FBE  
....................                        
.................... #bit  TMR2ON  = T2CON.2   
.................... #bit  TRISC_2=TRISC.2                       
.................... #bit  PORTC_2=PORTC.2    
....................                                              
.................... //   ################   I2C - SCL/SDA   #################  //    
.................... #bit  SCL_DIR=TRISC.3         // SCL GIRIS DIRECTION                                 
.................... #bit  SDA_DIR=TRISC.4         // SDA GIRIS DIRECTION  
....................                                
.................... #byte SSPBUF  = 0x0FC9        // VERI GONDERIRKEN VE ALIRKEN BU 8 BITLIK REGISTER KULLANILIR                        
.................... #byte SSPADD  = 0x0FC8        // VERI HIZIMIZI BELIRLEMEK ICIN KULLANILIR, 8 MHz 100Kbps ICIN 19 OLMALI (8MHZ/4/100Kbps)-1=19 
.................... #byte SSPSTAT = 0x0FC7        // VERI HIZI VE BF KONTROLU SAGLANIYOR                                                                  
.................... #bit  BF      = SSPSTAT.0     // BUFFER(SSPBUF REGISTER)'IN BOS VEYA DOLU OLUP OLMADIGININ KONTROLUNU YAPAR. 
....................                               //             0x2------------------------>8(0x28)                                                                                         
.................... #byte SSPCON1 = 0x0FC6        // SDA VE SCL'YI AKTIF EDIYORUZ || I2C'YI MASTER MODUNA ALIYORUZ()  URETECEGIMIZ SAAT FREKANSI clock = FOSC/(4 * (SSPADD + 1))  
.................... #byte SSPCON2 = 0x0FC5        // MASTER MODDA KONTROL ILETISIMI SAGLAMAK ICIN KOMUT BITLERI BULUNMAKTADIR. 
.................... #bit  SEN     = SSPCON2.0     // SCL VE SDA PINLERI UZERINDEN START KOMUTU VERIR, SONRASINDA OTOMATIK OLARAK SIFIRLANIR.        *(SADECE MASTER MODE)       
.................... #bit  RSEN    = SSPCON2.1     // SCL VE SDA PINLERI UZERINDEN TEKRAR START KOMUTU VERIR, SONRASINDA OTOMATIK OLARAK SIFIRLANIR. *(SADECE MASTER MODE)  
.................... #bit  PEN     = SSPCON2.2     // SCL VE SDA PINLERI UZERINDEN STOP KOMUTU VERIR, SONRASINDA OTOMATIK OLARAK SIFIRLANIR.         *(SADECE MASTER MODE)  
.................... #bit  RCEN    = SSPCON2.3     // READ KOMUTU VERIR BF, BUFFER DOLU MU DIYE KONTRO EDILIR, DOLUYSA SSPBUF'DAKI VERI DOLU OLDUGU ANLASILIR VE OKUMA ISLEMI TAMAMLANIR. *(SADECE MASTER MODE)  
.................... #bit  ACKEN   = SSPCON2.4     // SCL VE SDA PINLERI UZERINDEN ACKNOWLEDGE KOMUTU VERIR,VERININ GELIP GELMEDIGINI KONTROL EDER, SONRASINDA OTOMATIK OLARAK SIFIRLANIR. *(SADECE MASTER MODE OKUMA)   
.................... #bit  ACKDT   = SSPCON2.5     // SCL VE SDA PINLERI UZERINDEN ACK KOMUTU VERIR,1 ise ACK, 0 ise NACK, SONRASINDA OTOMATIK OLARAK SIFIRLANIR. *(SADECE MASTER MODE OKUMA)     
.................... #bit  ACKSTAT = SSPCON2.6     // SLAVE'DEN ACK GELIP GELMEDIGININ KONTROLUNU YAPAR.                                             *(SADECE MASTER MODE GONDERME)  
....................                                                                                                       
.................... #endif UCREGISTER_H                                                                          
....................  
.................... #include "delayms.h"  
.................... #ifndef DELAYMS_H   
.................... #define DELAYMS_H    
....................  
.................... void delayMsFun(uint16_t);  
.................... void delayUsFun(uint8_t us); 
....................  
.................... #endif //DELAYMS_H   
....................  
....................                  
....................                
.................... /*Hex Code   LCD Ekran Karsiligi  
....................  Initialize Lcd in 4-bit mode               0x02 
.................... 1   Function Set: 8-bit, 1 Line, 5×7 Dots   0x30   48                                              
.................... 2   Function Set: 8-bit, 2 Line, 5×7 Dots   0x38   56                            
.................... 3   Function Set: 4-bit, 1 Line, 5×7 Dots   0x20   32 
.................... 4   Function Set: 4-bit, 2 Line, 5×7 Dots   0x28   40  
.................... 0F   LCD acik, Imlec acik 
.................... 01   Ekrani Temizle                                 
.................... 02   Satir Basina Dön            
.................... 04   Imleci Sola Kaydir 
.................... 06   Imleci Saga Kaydir 
.................... 05   Ekrani Saga Kaydir 
.................... 07   Ekrani Sola Kaydir 
.................... 0E   Ekran Acik, Imleç Yanip Sonuyor 
.................... 80   Imleci Ilk Satirin Basinda Konumlandir 
.................... C0   Imleci Ikinci Satirin Basinda Konumlandir         
.................... 3C   Ikinci Satiri Etkinlestir                                                     
.................... 08   Ekran Kapali, Imleç Kapali              
.................... OC   Ekran Acik, Imlec Kapali*/   
....................                                             
.................... uchar_t strLCD[32]; 
.................... uint8_t countLCDChar; 
.................... uchar_t LCDW1SecFlag; 
....................                                          
.................... /*LCD (CHIP: HD44780), COMMAND MODE*/  
.................... void dis_cmd(uchar_t cmdout){  
....................    PORTD=cmdout;      //Send command to lcdport=PORTB 
*
04EE:  MOVFF  6C,F8C
....................    PORTE_RS=0;                   
04F2:  BCF    F84.0
....................    PORTE_E=1;                
04F4:  BSF    F84.1
....................    delayUsFun(1); 
04F6:  MOVLW  01
04F8:  MOVWF  6E
04FA:  RCALL  04E0
....................    PORTE_E=0;                               
04FC:  BCF    F84.1
04FE:  RETURN 0
.................... }                                   
....................  
....................  
....................  
.................... void lcdcmd(uchar_t cmd_value){          
....................    uchar_t cmd_value1;                              
....................    cmd_value1 = (cmd_value & 0xF0);      // Mask lower nibble because RB4-RB7 pins are being used    
0500:  MOVF   6A,W
0502:  ANDLW  F0
0504:  MOVWF  6B
....................    dis_cmd(cmd_value1);                   // Send to LCD 
0506:  MOVFF  6B,6C
050A:  RCALL  04EE
....................    cmd_value1 = ((cmd_value<<4) & 0xF0);  // Shift 4-bit and mask 
050C:  SWAPF  6A,W
050E:  MOVWF  00
0510:  MOVLW  F0
0512:  ANDWF  00,F
0514:  MOVF   00,W
0516:  ANDLW  F0
0518:  MOVWF  6B
....................    dis_cmd(cmd_value1);                   // Send to LCD 
051A:  MOVFF  6B,6C
051E:  RCALL  04EE
0520:  RETURN 0
.................... } 
....................  // 2 lines are active.              
.................... void twoLinesBCDMode(){  
....................    lcdcmd(0x02); 
0522:  MOVLW  02
0524:  MOVWF  6A
0526:  RCALL  0500
0528:  GOTO   055C (RETURN)
.................... } 
....................                         
.................... // 2 lines are active. BCD MODE 
.................... void LinesActive(){  
....................    lcdcmd(0x28);                
052C:  MOVLW  28
052E:  MOVWF  6A
0530:  RCALL  0500
0532:  GOTO   055E (RETURN)
.................... }                          
.................... // LCD screen clear.                   
.................... void lcdClear(){ 
....................    lcdcmd(0x01);                   
*
054A:  MOVLW  01
054C:  MOVWF  6A
054E:  RCALL  0500
0550:  GOTO   0564 (RETURN)
.................... }                   
.................... // Go to first line. 
.................... void lcdGoToFirstLine(){  
....................    lcdcmd(0x80); 
*
0D58:  MOVLW  80
0D5A:  MOVWF  6A
0D5C:  CALL   0500
0D60:  GOTO   0DAE (RETURN)
.................... }                                  
.................... // Go to second line.                        
.................... void lcdGoToSecondLine(){ 
....................    lcdcmd(0xC0); 
0D64:  MOVLW  C0
0D66:  MOVWF  6A
0D68:  CALL   0500
0D6C:  GOTO   0DB6 (RETURN)
.................... }                        
.................... // Shift cursor to right. 
.................... void lcdShiftRight(){   
....................    lcdcmd(0x06);                                                     
*
0540:  MOVLW  06
0542:  MOVWF  6A
0544:  RCALL  0500
0546:  GOTO   0562 (RETURN)
.................... }                                           
.................... // Display on, Cursor on              
.................... void lcdCursorOn(){                  
....................    lcdcmd(0x0E); 
.................... }                                      
.................... //Display off, Cursor off 
.................... void lcdCursorOff(){                                             
....................    lcdcmd(0x0C);                             
*
0536:  MOVLW  0C
0538:  MOVWF  6A
053A:  RCALL  0500
053C:  GOTO   0560 (RETURN)
.................... }                              
....................   
.................... void dis_data(uchar_t dataout) {  
....................    PORTD=dataout;   //Send data to lcdport=PORTB 
*
0D70:  MOVFF  6D,F8C
....................    PORTE_RS=1;                   
0D74:  BSF    F84.0
....................    PORTE_E=1;                          
0D76:  BSF    F84.1
....................    delayUsFun(1); 
0D78:  MOVLW  01
0D7A:  MOVWF  6E
0D7C:  CALL   04E0
....................    PORTE_E=0;   
0D80:  BCF    F84.1
0D82:  RETURN 0
....................    //PORTD=0x00; 
....................    //while(test_bit(PORTD,7));           
.................... }   
.................... /*DATA MODE*/   
.................... void lcddata(uchar_t text){  
....................    uchar_t data;                                                                 
....................    data=(text & 0xF0);         
0D84:  MOVF   6B,W
0D86:  ANDLW  F0
0D88:  MOVWF  6C
....................    dis_data(data);     
0D8A:  MOVFF  6C,6D
0D8E:  RCALL  0D70
....................    data=((text<<4)&0xF0);      
0D90:  SWAPF  6B,W
0D92:  MOVWF  00
0D94:  MOVLW  F0
0D96:  ANDWF  00,F
0D98:  MOVF   00,W
0D9A:  ANDLW  F0
0D9C:  MOVWF  6C
....................    dis_data(data);                  
0D9E:  MOVFF  6C,6D
0DA2:  RCALL  0D70
0DA4:  GOTO   0DD4 (RETURN)
.................... }                                
.................... void LCD_String(){  
....................    if(countLCDChar==0)  
0DA8:  MOVF   3A,F
0DAA:  BNZ   0DAE
....................       lcdGoToFirstLine(); 
0DAC:  BRA    0D58
....................    if(countLCDChar==16)   
0DAE:  MOVF   3A,W
0DB0:  SUBLW  10
0DB2:  BNZ   0DB6
....................       lcdGoToSecondLine();    
0DB4:  BRA    0D64
....................    if(countLCDChar<=31){  
0DB6:  MOVF   3A,W
0DB8:  SUBLW  1F
0DBA:  BNC   0DD8
....................       lcddata(strLCD[countLCDChar]); 
0DBC:  CLRF   03
0DBE:  MOVF   3A,W
0DC0:  ADDLW  1A
0DC2:  MOVWF  FE9
0DC4:  MOVLW  00
0DC6:  ADDWFC 03,W
0DC8:  MOVWF  FEA
0DCA:  MOVFF  FEF,6A
0DCE:  MOVFF  6A,6B
0DD2:  BRA    0D84
....................       countLCDChar++;   
0DD4:  INCF   3A,F
....................    }else{    
0DD6:  BRA    0DDC
....................       LCDW1SecFlag=0; 
0DD8:  CLRF   3B
....................       countLCDChar=0; 
0DDA:  CLRF   3A
....................    }                  
0DDC:  GOTO   0178 (RETURN)
.................... }  
....................  
....................  
.................... void LCD_Custom_Char(uchar_t loc, uchar_t *msg){ 
....................     uchar_t i; 
....................     if(loc<8) 
....................     { 
....................      lcdcmd(0x40 + (loc*8));    /* Command 0x40 and onwards forces the device to point CGRAM address */ 
....................      for(i=0;i<8;i++)          /* Write 8 byte for generation of 1 character */ 
....................         lcddata(msg[i]);       
....................     }                        
.................... } 
....................  
....................                                           
....................  
....................       
....................  
.................... #include "delayms.c"  
....................  
.................... #include "definitions.h"  
.................... #ifndef DEFINITIONS_H      
.................... #define DEFINITIONS_H    
....................  
.................... typedef unsigned int32  uint32_t;                                                      
.................... typedef unsigned int16  uint16_t; 
.................... typedef signed   int16  sint16_t;  
.................... typedef unsigned int8   uint8_t;  
....................  
.................... typedef       float32   float32_t; 
.................... typedef unsigned char   uchar_t;   
....................                              
....................                
.................... #endif //DEFINITIONS_H       
....................  
.................... #include "delayms.h" 
.................... #ifndef DELAYMS_H   
.................... #define DELAYMS_H    
....................  
.................... void delayMsFun(uint16_t);  
.................... void delayUsFun(uint8_t us); 
....................  
.................... #endif //DELAYMS_H   
....................  
....................    
.................... void delayMsFun(uint16_t msecs){  // Delay function - generates a delay of specified msecs 
....................    uint16_t i; 
....................    uint8_t j;  
....................    for(i=0;i<=msecs;i++) 
....................    for(j=0;j<205;j++); /*This count Provide delay of 1 ms for 8MHz Frequency */                              
.................... }        
....................  
.................... void delayUsFun(uint8_t us)  // Delay function - generates a delay of specified msecs 
.................... {   uint8_t i; 
....................     for(i=0;i<=us;i++){               
*
04E0:  CLRF   6F
04E2:  MOVF   6F,W
04E4:  SUBWF  6E,W
04E6:  BNC   04EC
04E8:  INCF   6F,F
04EA:  BRA    04E2
....................     }                                
04EC:  RETURN 0
.................... }   
....................  
....................  
.................... #include "DS1307.c"   
....................  
.................... //////////////////////////////////////////////////////////////////////////////// 
.................... ///                               DS1307.C                                   /// 
.................... ///                     Driver for Real Time Clock                           /// 
.................... ///                                                                          /// 
.................... /// ds1307_init() - Enable oscillator without clearing the seconds register -/// 
.................... ///                 used when PIC loses power and DS1307 run from 3V BAT     /// 
.................... ///               - Disable squarewave output                                /// 
.................... ///                                                                          /// 
.................... /// ds1307_set_date_time(day,mth,year,dow,hour,min,sec)  Set the date/time   /// 
.................... ///                                                                          /// 
.................... /// ds1307_get_date(day,mth,year,dow)               Get the date             /// 
.................... ///                                                                          /// 
.................... /// ds1307_get_time(hr,min,sec)                     Get the time             /// 
.................... ///                                                                          /// 
.................... //////////////////////////////////////////////////////////////////////////////// 
....................  
....................                                                                                               
.................... #include "binbcdconv.c"   
.................... #include "binbcdconv.h" 
.................... #include "definitions.h"    
.................... #ifndef DEFINITIONS_H      
.................... #define DEFINITIONS_H    
....................  
.................... typedef unsigned int32  uint32_t;                                                      
.................... typedef unsigned int16  uint16_t; 
.................... typedef signed   int16  sint16_t;  
.................... typedef unsigned int8   uint8_t;  
....................  
.................... typedef       float32   float32_t; 
.................... typedef unsigned char   uchar_t;   
....................                              
....................                
.................... #endif //DEFINITIONS_H       
....................  
....................  
.................... #ifndef BINBCDCONV_H         
.................... #define BINBCDCONV_H   
....................  
.................... uchar_t bin2bcd(uchar_t binary_value); 
.................... uchar_t bcd2bin(uchar_t bcd_value); 
....................                          
.................... #endif //BINBCDCONV_H      
....................  
....................                                                      
.................... uchar_t bin2bcd(uchar_t binary_value){ 
....................   uchar_t retval;                     
....................   retval = 0;                                                
*
0608:  CLRF   79
....................   while(1){ 
....................     if(binary_value >= 10){    // 10'dan buyuk oldugu muddetce                                     
060A:  MOVF   78,W
060C:  SUBLW  09
060E:  BC    061A
....................       binary_value   -= 10;    // 10 cikar 
0610:  MOVLW  0A
0612:  SUBWF  78,F
....................       retval += 0x10;  //asil degiskenimizin MsB'sine 1 ekle      
0614:  MOVLW  10
0616:  ADDWF  79,F
....................     }  
0618:  BRA    0620
....................     else{  
....................       retval += binary_value;  //artik 10'dan buyuk degil kalan 0-9 arasi sayiyi asil degiskenimize ekle                             
061A:  MOVF   78,W
061C:  ADDWF  79,F
....................       break;                 
061E:  BRA    0622
....................     } 
0620:  BRA    060A
....................   } 
....................   return(retval);   
0622:  MOVFF  79,01
0626:  RETURN 0
.................... } 
....................                            
....................                                
.................... // 8-Bit ile oldugu icin 0-99 arasi bir bcd sayi yazilmalidir.  
.................... uchar_t bcd2bin(uchar_t bcd_value){  
....................          // (bcd_value>>4)*10) BCD'nin 10 luk kisim ilk 4 bite kaydirildi ve 10 ile carpildi. 
....................          // (bcd_value & 0x0F) BCD'nin yuksek degerli 4 biti sifirlandi ve 0-9 kismi birakildi. 
....................          // 2 sayi toplanarak binary karsiligi elde edildi. 
....................   return ((bcd_value>>4)*10) + (bcd_value & 0x0F);   
*
0760:  SWAPF  72,W
0762:  MOVWF  00
0764:  MOVLW  0F
0766:  ANDWF  00,F
0768:  MOVF   00,W
076A:  MULLW  0A
076C:  MOVFF  FF3,73
0770:  MOVF   72,W
0772:  ANDLW  0F
0774:  ADDWF  73,W
0776:  MOVWF  01
0778:  RETURN 0
.................... }                      
....................  
.................... #include "DS1307.h"   
.................... #ifndef DS1307_H      
.................... #define DS1307_H    
....................  
.................... //DS1307 TIME-DATE INFO VARIABLES   
.................... extern uchar_t sec, min, hrs; 
.................... extern uchar_t day, month, yr, dow;       
.................... extern uchar_t dayText[4];  
.................... //READ WRITE SET QUEUE 
.................... extern uchar_t timeSwitchPosition; 
.................... //LCD BUFFER 
.................... extern uchar_t DATE_TIME[32]; 
....................             
....................  
.................... void DS1307_Init();     
.................... void ds1307_run(uchar_t, uchar_t, uchar_t, uchar_t, uchar_t, uchar_t, uchar_t);   
.................... void ds1307_set_date_time(uchar_t, uchar_t, uchar_t, uchar_t, uchar_t, uchar_t, uchar_t);   
.................... void ds1307_get_date(); 
.................... void ds1307_get_time();                                     
.................... void getDayText();                     
....................                
.................... uchar_t getSec(); 
.................... uchar_t getMin();                     
.................... uchar_t getHour(); 
....................                            
.................... uchar_t getDay();  
.................... uchar_t getMonth();  
.................... uchar_t getYear(); 
.................... uchar_t getDow();                                                                  
....................                 
.................... uint16_t day_of_the_week(uint16_t, uint16_t, uint16_t );                   
....................                     
.................... #endif //DS1307_H                      
....................                                        
....................  
.................... #include "i2c.h"  
.................... #include "definitions.h"  
.................... #ifndef DEFINITIONS_H      
.................... #define DEFINITIONS_H    
....................  
.................... typedef unsigned int32  uint32_t;                                                      
.................... typedef unsigned int16  uint16_t; 
.................... typedef signed   int16  sint16_t;  
.................... typedef unsigned int8   uint8_t;  
....................  
.................... typedef       float32   float32_t; 
.................... typedef unsigned char   uchar_t;   
....................                              
....................                
.................... #endif //DEFINITIONS_H       
....................  
....................  
.................... #ifndef I2C_H 
.................... #define I2C_H      
....................  
....................             
.................... void _I2C_Start(void);        
.................... void _I2C_ReStart(void);     
.................... void _I2C_Stop(void);               
.................... void _I2CACK(void);   
.................... void _I2CNACK(void); 
.................... void _I2C_WAIT(void); 
.................... uchar_t _I2C_Write_Byte(uchar_t);   
.................... uchar_t _I2C_Read_Byte(uchar_t);            
....................                
.................... #endif //I2C_H      
....................  
.................... #include "i2c.c" 
.................... #include "i2c.h"                                                                                         
.................... #include "definitions.h"  
.................... #ifndef DEFINITIONS_H      
.................... #define DEFINITIONS_H    
....................  
.................... typedef unsigned int32  uint32_t;                                                      
.................... typedef unsigned int16  uint16_t; 
.................... typedef signed   int16  sint16_t;  
.................... typedef unsigned int8   uint8_t;  
....................  
.................... typedef       float32   float32_t; 
.................... typedef unsigned char   uchar_t;   
....................                              
....................                
.................... #endif //DEFINITIONS_H       
....................  
....................  
.................... #ifndef I2C_H 
.................... #define I2C_H      
....................  
....................             
.................... void _I2C_Start(void);        
.................... void _I2C_ReStart(void);     
.................... void _I2C_Stop(void);               
.................... void _I2CACK(void);   
.................... void _I2CNACK(void); 
.................... void _I2C_WAIT(void); 
.................... uchar_t _I2C_Write_Byte(uchar_t);   
.................... uchar_t _I2C_Read_Byte(uchar_t);            
....................                
.................... #endif //I2C_H      
....................  
.................... #include "definitions.h"     
.................... #ifndef DEFINITIONS_H      
.................... #define DEFINITIONS_H    
....................  
.................... typedef unsigned int32  uint32_t;                                                      
.................... typedef unsigned int16  uint16_t; 
.................... typedef signed   int16  sint16_t;  
.................... typedef unsigned int8   uint8_t;  
....................  
.................... typedef       float32   float32_t; 
.................... typedef unsigned char   uchar_t;   
....................                              
....................                
.................... #endif //DEFINITIONS_H       
....................  
.................... #include "ucregisters.h"         
.................... #ifndef UCREGISTER_H 
.................... #define UCREGISTER_H 
....................  
....................                         
.................... //Analog PINS            
.................... #byte TRISA = 0x0F92     
.................... #byte PORTA = 0x0F80 
.................... #bit  PORTA_DIR_0=TRISA.0  
.................... #bit  PORTA_0=PORTA.0   
.................... #bit  PORTA_DIR_1=TRISA.1  
.................... #bit  PORTA_1=PORTA.1   
....................                        
.................... //Control PINS 
.................... #byte TRISB = 0x0F93      
.................... #byte PORTB = 0x0F81  
.................... #bit  PORTB_0=PORTB.0 
.................... #bit  PORTB_7=PORTB.7  
....................  
.................... // LCD PINS 
.................... #byte TRISD = 0x0F95                      
.................... #byte PORTD = 0x0F8C                      
.................... #bit  PORTD_7=PORTD.7     
....................  
.................... //LCD Control Pins 
.................... #byte TRISE = 0x0F96 
.................... #byte PORTE = 0x0F84                        
.................... #bit  PORTE_RS=PORTE.0        
.................... #bit  PORTE_E=PORTE.1 
.................... #bit  PORTE_RW=PORTE.2  
....................  
....................    
.................... #byte TRISC = 0x0F94  
.................... #byte PORTC = 0x0F82             
.................... #bit  TRISC_6=TRISC.6  
.................... #bit  TRISC_7=TRISC.7   
....................                             
....................   
....................  
....................                           
.................... //OSILATOR - 8MHZ 
.................... #byte OSCCON = 0x0FD3        
.................... #bit  IRCF2 =OSCCON.6   
.................... #bit  IRCF1 =OSCCON.5                      
.................... #bit  IRCF0 =OSCCON.4  
....................         
.................... //TIMER1 INTERRUPT BYTE adresleri 
....................     
.................... #byte RCON = 0x0FD0    // RCON REGISTER 
.................... #byte INTCON = 0x0FF2  // INTCON REGISTER  
.................... #byte IPR1 = 0x0F9F    // Cevresel kesme onceligi                          
.................... #byte PIR1 = 0x0F9E    // Cevresel kesme istegi (Bayrak) 
.................... #byte PIE1 = 0x0F9D    // Cevresel kesme yetkisi  
.................... #byte T1CON  = 0x0FCD  // TIMER1 kontrol kayitcisi  
.................... #byte TMR1H = 0x0FCF   // TIMER1'in ta;ma sayacinin son 8 biti                                      
.................... #byte TMR1L = 0x0FCE   // TIMER1'in ta;ma sayacinin ilk 8 biti 
.................... //   #############TIMER 1########                                                            
.................... //# RCON  :: RCON REGISTER // Bit Adresleri                                     
.................... #bit RCON_IPEN = RCON.7        // Enable priority levels on interrupts                    
.................... //# INTCON  :: INTCON REGISTER // Bit Adresleri       
.................... #bit INTCON_GIE_GIEH = INTCON.7  // Global Interrupt Enable bit  
.................... #bit INTCON_PEIE = INTCON.6      // INTCON_PEIE=1, Enables all high priority interrupts 
.................... //# IPR1  :: IPR1 REGISTER // Bit Adresleri  
.................... #bit IPR1_TMR1IP = IPR1.0  // TMR1 Overflow Interrupt Priority bit                                         
.................... //# PIR1  :: PIR1 REGISTER // Bit Adresleri 
.................... #bit PIR1_TMR1IF=PIR1.0    // TMR1 Overflow Interrupt Flag bit     
.................... //# PIE1  :: PIE1 REGISTER // Bit Adresleri  
.................... #bit PIE1_TMR1IE=PIE1.0    // TMR1 Overflow Interrupt Enable bit      
.................... //#T0CON  :: TIMER0 CONTROL REGISTER // Bit Adresleri 
.................... #bit T1CON_RD16    = T1CON.7     // 16-bit Read/Write Mode Enable bit 
.................... #bit T1CON_T1RUN   = T1CON.6     // Timer1 System Clock Status bit 
.................... #bit T1CON_T1CKPS1 = T1CON.5     // Timer1 Input Clock Prescale Select bits                              
.................... #bit T1CON_T1CKPS0 = T1CON.4     // Timer1 Input Clock Prescale Select bits 
.................... #bit T1CON_T1OSCEN = T1CON.3     // Timer1 Oscillator Enable bit 
.................... #bit T1CON_T1SYNC  = T1CON.2     // Timer1 External Clock Input Synchronization Select bit 
.................... #bit T1CON_TMR1CS  = T1CON.1     // Timer1 Clock Source Select bit  
.................... #bit T1CON_TMR1ON  = T1CON.0     // Timer1 On bit          
....................                                                                  
.................... //   ################   RS232/EUSART   #################  //    
.................... #byte  RCSTA   = 0x0FAB    // RCSTA: RECEIVE STATUS AND CONTROL REGISTER 
.................... #byte  BAUDCON = 0x0FB8    // BAUDCON: BAUD RATE CONTROL REGISTER                        
.................... #byte  TXSTA   = 0x0FAC    // TXSTA: TRANSMIT STATUS AND CONTROL REGISTER  
.................... #byte  SPBRGH  = 0x0FB0    // EUSART Baud Rate Generator Register, High Byte                          
.................... #byte  SPBRG   = 0x0FAF    // EUSART Baud Rate Generator Register, Low Byte   
.................... #byte  TXREG   = 0x0FAD    // EUSART Transmit Register                             
.................... #byte  RCREG   = 0x0FAE    // EUSART Receive Register 
....................  
.................... #bit   OERR_RCSTA= RCSTA.1  // Overrun Error bit 
.................... #bit   CREN_RCSTA= RCSTA.4  // Continuous Receive Enable bit    
.................... #bit   TXIF_PIR1 = PIR1.4   // EUSART Transmit Interrupt Flag bit 
.................... #bit   RCIF_PIR1 = PIR1.5   // EUSART Receive Interrupt Flag bit  
.................... #bit   RCIE_PIE1 = PIE1.5   // EUSART Receive Interrupt Enable bit  
.................... #bit   TXIE_PIE1 = PIE1.4   // EUSART Transmit Interrupt Enable bit     
....................  
.................... //   ################   ADC CONVERTER   #################  //  
.................... #byte ADRESH = 0x0FC4     
.................... #byte ADRESL = 0x0FC3  
.................... #byte ADCON0 = 0x0FC2  
.................... #bit  ADON   = ADCON0.0 
.................... #bit  GODONE = ADCON0.1  
.................... #byte ADCON1 = 0x0FC1 
.................... #bit  PCFG0  = ADCON1.0    
.................... #bit  PCFG1  = ADCON1.1 
.................... #byte ADCON2 = 0x0FC0   
.................... #bit  ADIE   = PIE1.6   
.................... #bit  ADIF   = PIR1.6        
....................  
.................... //   ################   PWM CCP1   #################  //     
.................... #byte PR2     = 0x0FCB 
.................... #byte TMR2    = 0x0FCC                                                 
.................... #byte T2CON   = 0x0FCA  
....................  
.................... #byte CCP1CON = 0x0FBD   
.................... #byte CCPR1H  = 0x0FBF  
.................... #byte CCPR1L  = 0x0FBE  
....................                        
.................... #bit  TMR2ON  = T2CON.2   
.................... #bit  TRISC_2=TRISC.2                       
.................... #bit  PORTC_2=PORTC.2    
....................                                              
.................... //   ################   I2C - SCL/SDA   #################  //    
.................... #bit  SCL_DIR=TRISC.3         // SCL GIRIS DIRECTION                                 
.................... #bit  SDA_DIR=TRISC.4         // SDA GIRIS DIRECTION  
....................                                
.................... #byte SSPBUF  = 0x0FC9        // VERI GONDERIRKEN VE ALIRKEN BU 8 BITLIK REGISTER KULLANILIR                        
.................... #byte SSPADD  = 0x0FC8        // VERI HIZIMIZI BELIRLEMEK ICIN KULLANILIR, 8 MHz 100Kbps ICIN 19 OLMALI (8MHZ/4/100Kbps)-1=19 
.................... #byte SSPSTAT = 0x0FC7        // VERI HIZI VE BF KONTROLU SAGLANIYOR                                                                  
.................... #bit  BF      = SSPSTAT.0     // BUFFER(SSPBUF REGISTER)'IN BOS VEYA DOLU OLUP OLMADIGININ KONTROLUNU YAPAR. 
....................                               //             0x2------------------------>8(0x28)                                                                                         
.................... #byte SSPCON1 = 0x0FC6        // SDA VE SCL'YI AKTIF EDIYORUZ || I2C'YI MASTER MODUNA ALIYORUZ()  URETECEGIMIZ SAAT FREKANSI clock = FOSC/(4 * (SSPADD + 1))  
.................... #byte SSPCON2 = 0x0FC5        // MASTER MODDA KONTROL ILETISIMI SAGLAMAK ICIN KOMUT BITLERI BULUNMAKTADIR. 
.................... #bit  SEN     = SSPCON2.0     // SCL VE SDA PINLERI UZERINDEN START KOMUTU VERIR, SONRASINDA OTOMATIK OLARAK SIFIRLANIR.        *(SADECE MASTER MODE)       
.................... #bit  RSEN    = SSPCON2.1     // SCL VE SDA PINLERI UZERINDEN TEKRAR START KOMUTU VERIR, SONRASINDA OTOMATIK OLARAK SIFIRLANIR. *(SADECE MASTER MODE)  
.................... #bit  PEN     = SSPCON2.2     // SCL VE SDA PINLERI UZERINDEN STOP KOMUTU VERIR, SONRASINDA OTOMATIK OLARAK SIFIRLANIR.         *(SADECE MASTER MODE)  
.................... #bit  RCEN    = SSPCON2.3     // READ KOMUTU VERIR BF, BUFFER DOLU MU DIYE KONTRO EDILIR, DOLUYSA SSPBUF'DAKI VERI DOLU OLDUGU ANLASILIR VE OKUMA ISLEMI TAMAMLANIR. *(SADECE MASTER MODE)  
.................... #bit  ACKEN   = SSPCON2.4     // SCL VE SDA PINLERI UZERINDEN ACKNOWLEDGE KOMUTU VERIR,VERININ GELIP GELMEDIGINI KONTROL EDER, SONRASINDA OTOMATIK OLARAK SIFIRLANIR. *(SADECE MASTER MODE OKUMA)   
.................... #bit  ACKDT   = SSPCON2.5     // SCL VE SDA PINLERI UZERINDEN ACK KOMUTU VERIR,1 ise ACK, 0 ise NACK, SONRASINDA OTOMATIK OLARAK SIFIRLANIR. *(SADECE MASTER MODE OKUMA)     
.................... #bit  ACKSTAT = SSPCON2.6     // SLAVE'DEN ACK GELIP GELMEDIGININ KONTROLUNU YAPAR.                                             *(SADECE MASTER MODE GONDERME)  
....................                                                                                                       
.................... #endif UCREGISTER_H                                                                          
....................  
....................             
.................... void _I2C_WAIT(){ 
....................    while ( ( SSPCON2 & 0x1F ) || ( SSPSTAT & 0x04 ) ); 
*
05B0:  MOVF   FC5,W
05B2:  ANDLW  1F
05B4:  BNZ   05B0
05B6:  BTFSC  FC7.2
05B8:  BRA    05B0
05BA:  RETURN 0
....................    // wait for any pending transfer  
.................... }                                     
.................... // Function Purpose: I2C_Write_Byte transfers one byte  
.................... uchar_t _I2C_Write_Byte(uchar_t data){               
....................    SSPBUF = data;      // Send Byte value 
05BC:  MOVFF  79,FC9
....................    while(BF);      // Wait for it to complete  
05C0:  BTFSC  FC7.0
05C2:  BRA    05C0
....................    _I2C_WAIT(); 
05C4:  RCALL  05B0
....................    return ACKSTAT;     // Return ACK/NACK from slave 
05C6:  MOVLW  00
05C8:  BTFSC  FC5.6
05CA:  MOVLW  01
05CC:  MOVWF  01
05CE:  RETURN 0
.................... }                            
....................                                          
.................... // Function Purpose: I2C_Read_Byte reads one byte 
.................... uchar_t _I2C_Read_Byte(uchar_t flag){     
*
0742:  CLRF   72
....................    uchar_t receive = 0; 
....................    RCEN = 1;                     
0744:  BSF    FC5.3
....................    while(!BF);      // Wait for it to complete          
0746:  BTFSS  FC7.0
0748:  BRA    0746
....................    receive = SSPBUF;     
074A:  MOVFF  FC9,72
....................    if(flag==0)  
074E:  MOVF   71,F
0750:  BNZ   0756
....................       _I2CACK();                                      
0752:  BRA    072A
0754:  BRA    0758
....................    else 
....................       _I2CNACK();  
0756:  BRA    0736
....................    _I2C_WAIT();  
0758:  RCALL  05B0
....................    return receive; // Return The Received Byte   
075A:  MOVFF  72,01
075E:  RETURN 0
.................... }     
....................    
.................... void _I2C_Start(void){  
....................    SEN = 1;         // Start condition enabled  
*
05A8:  BSF    FC5.0
....................    while(SEN);      // automatically cleared by hardware  
05AA:  BTFSC  FC5.0
05AC:  BRA    05AA
05AE:  RETURN 0
....................                     // wait for start condition to finish   
.................... }   
....................  
.................... void _I2C_ReStart(void){ 
....................    RSEN = 1;         // Send Restart bit 
*
05D0:  BSF    FC5.1
....................    while(RSEN);      // Wait for it to complete 
05D2:  BTFSC  FC5.1
05D4:  BRA    05D2
05D6:  RETURN 0
.................... }                     
....................                                             
.................... //Function : I2C_Stop sends stop bit sequence  
.................... void _I2C_Stop(void){      
....................    PEN = 1;      // Initiate Stop condition on SDA and SCL pins  
05D8:  BSF    FC5.2
....................    while(PEN);   // Wait for stop condition to finish  
05DA:  BTFSC  FC5.2
05DC:  BRA    05DA
05DE:  RETURN 0
....................                      // PEN automatically cleared by hardware  
.................... }     
....................  
.................... void _I2CACK(void){ 
....................    ACKDT = 0; //Acknowledge Data bit   
*
072A:  BCF    FC5.5
....................    ACKEN = 1;  // Acknowledge Sequence Enable bit    
072C:  BSF    FC5.4
....................    while(ACKEN);      // Wait for it to complete 
072E:  BTFSC  FC5.4
0730:  BRA    072E
0732:  GOTO   0758 (RETURN)
.................... }        
....................  
.................... void _I2CNACK(void){ 
....................    ACKDT = 1;    
0736:  BSF    FC5.5
....................    ACKEN = 1;  
0738:  BSF    FC5.4
....................    while(ACKEN);      // Wait for it to complete     
073A:  BTFSC  FC5.4
073C:  BRA    073A
073E:  GOTO   0758 (RETURN)
.................... }       
....................  
....................                                         
.................... // START(0) <--------------0xD - 13 is adres of DS1307----------------->  <-R/W->                  <-DATA->    ACK    STOP(1)  
.................... //|------| |------| |------| |------| |------| |------| |------| |------| |------|       |------|  |------| |------| |------|   
.................... //|  S   | |   1  |-|   1  |-|   0  |-|   1  |-|   0  |-|   0  |-|   0  |-|   0  |       |   0  |  |nx8BIT| |   0  | |  P   |    
.................... //|------| |------| |------| |------| |------| |------| |------| |------| |------|       |------|  |------| |------| |------|    
.................... //          7.Bit    6.Bit    5.Bit    4.Bit    3.Bit    2.Bit    1.Bit    0.Bit           ACK                       
....................                          
.................... uchar_t sec, min, hrs; 
.................... uchar_t day, month, yr, dow;          
.................... uchar_t dayText[4];  
.................... uchar_t timeSwitchPosition; 
.................... uchar_t DATE_TIME[32]; 
....................  
.................... void DS1307_Init(){   
....................     _I2C_Start();          
*
05E0:  RCALL  05A8
....................     while(_I2C_Write_Byte(0xD0 + 0) == 1)// Wait until device is free 
05E2:  MOVLW  D0
05E4:  MOVWF  79
05E6:  RCALL  05BC
05E8:  DECFSZ 01,W
05EA:  BRA    05F0
....................     {   _I2C_ReStart();   }  
05EC:  RCALL  05D0
05EE:  BRA    05E2
....................     _I2C_Write_Byte(0x07);          // Select the Ds1307 ControlRegister to configure Ds1307 
05F0:  MOVLW  07
05F2:  MOVWF  79
05F4:  RCALL  05BC
....................     _I2C_Write_Byte(0x00);          // Write 0x00 to Control register to disable SQW-Out       
05F6:  CLRF   79
05F8:  RCALL  05BC
....................     _I2C_Stop();                // Stop I2C communication after initilizing DS1307 
05FA:  RCALL  05D8
....................     timeSwitchPosition=0; 
05FC:  CLRF   47
05FE:  GOTO   0136 (RETURN)
....................  }                                                               
....................         
.................... void ds1307_run(uchar_t day_t, uchar_t mth_t, uchar_t year_t, uchar_t dow_t, uchar_t hr_t, uchar_t min_t, uchar_t sec_t){  
....................    if(timeSwitchPosition>=0 && timeSwitchPosition<=10){  
*
0D10:  MOVF   47,W
0D12:  SUBLW  0A
0D14:  BNC   0D36
....................       ds1307_set_date_time(day_t, mth_t, year_t, dow_t, hr_t, min_t, sec_t); 
0D16:  MOVFF  6A,71
0D1A:  MOVFF  6B,72
0D1E:  MOVFF  6C,73
0D22:  MOVFF  6D,74
0D26:  MOVFF  6E,75
0D2A:  MOVFF  6F,76
0D2E:  MOVFF  70,77
0D32:  BRA    0628
....................    }  
0D34:  BRA    0D54
....................    else if(timeSwitchPosition>=11 && timeSwitchPosition<=19){  
0D36:  MOVF   47,W
0D38:  SUBLW  0A
0D3A:  BC    0D46
0D3C:  MOVF   47,W
0D3E:  SUBLW  13
0D40:  BNC   0D46
....................       ds1307_get_time();     
0D42:  BRA    077A
....................    } 
0D44:  BRA    0D54
....................    else if(timeSwitchPosition>=20 && timeSwitchPosition<=29){ 
0D46:  MOVF   47,W
0D48:  SUBLW  13
0D4A:  BC    0D54
0D4C:  MOVF   47,W
0D4E:  SUBLW  1D
0D50:  BNC   0D54
....................       ds1307_get_date();         
0D52:  BRA    0B7E
....................    } 
0D54:  GOTO   016A (RETURN)
.................... }                                                                                                                          
....................  
.................... void ds1307_set_date_time(uchar_t day_t, uchar_t mth_t, uchar_t year_t, uchar_t dow_t, uchar_t hr_t, uchar_t min_t, uchar_t sec_t){      
....................    switch(timeSwitchPosition){ 
*
0628:  MOVF   47,W
062A:  ADDLW  F5
062C:  BTFSC  FD8.0
062E:  BRA    06EC
0630:  ADDLW  0B
0632:  GOTO   06F0
....................    case 0: 
....................         _I2C_Start();                         // I2C write address  
0636:  RCALL  05A8
....................         timeSwitchPosition++;  
0638:  INCF   47,F
....................    break;  
063A:  BRA    06EC
....................       
....................    case 1:  
....................         while(_I2C_Write_Byte(0xD0 + 0) == 1) // Wait until device is free  
063C:  MOVLW  D0
063E:  MOVWF  79
0640:  RCALL  05BC
0642:  DECFSZ 01,W
0644:  BRA    064A
....................         {   _I2C_ReStart();   }    
0646:  RCALL  05D0
0648:  BRA    063C
....................         timeSwitchPosition++;  
064A:  INCF   47,F
....................    break;    
064C:  BRA    06EC
....................     
....................    case 2:  
....................         _I2C_Write_Byte(0x00);                // Start at REG 0 - Seconds   
064E:  CLRF   79
0650:  RCALL  05BC
....................         timeSwitchPosition++;  
0652:  INCF   47,F
....................    break;  
0654:  BRA    06EC
....................     
....................    case 3:   
....................         sec_t &= 0x7F; 
0656:  BCF    77.7
....................         _I2C_Write_Byte(bin2bcd(sec_t));      // REG 0   
0658:  MOVFF  77,78
065C:  RCALL  0608
065E:  MOVFF  01,78
0662:  MOVFF  01,79
0666:  RCALL  05BC
....................         timeSwitchPosition++;  
0668:  INCF   47,F
....................    break;    
066A:  BRA    06EC
....................     
....................    case 4:  
....................         min_t &= 0x7F; 
066C:  BCF    76.7
....................         _I2C_Write_Byte(bin2bcd(min_t));      // REG 1   
066E:  MOVFF  76,78
0672:  RCALL  0608
0674:  MOVFF  01,78
0678:  MOVFF  01,79
067C:  RCALL  05BC
....................         timeSwitchPosition++;  
067E:  INCF   47,F
....................    break;     
0680:  BRA    06EC
....................     
....................    case 5:  
....................         hr_t &= (0x7F|0x40);  //format 24H  
0682:  BCF    75.7
....................         _I2C_Write_Byte(bin2bcd(hr_t));       // REG 2  
0684:  MOVFF  75,78
0688:  RCALL  0608
068A:  MOVFF  01,78
068E:  MOVFF  01,79
0692:  RCALL  05BC
....................         timeSwitchPosition++;  
0694:  INCF   47,F
....................    break;  
0696:  BRA    06EC
....................     
....................    case 6: 
....................         _I2C_Write_Byte(bin2bcd(dow_t));      // REG 3  
0698:  MOVFF  74,78
069C:  RCALL  0608
069E:  MOVFF  01,78
06A2:  MOVFF  01,79
06A6:  RCALL  05BC
....................         timeSwitchPosition++;  
06A8:  INCF   47,F
....................    break;    
06AA:  BRA    06EC
....................     
....................    case 7:  
....................        _I2C_Write_Byte(bin2bcd(day_t));      // REG 4   
06AC:  MOVFF  71,78
06B0:  RCALL  0608
06B2:  MOVFF  01,78
06B6:  MOVFF  01,79
06BA:  RCALL  05BC
....................        timeSwitchPosition++;  
06BC:  INCF   47,F
....................    break;   
06BE:  BRA    06EC
....................     
....................    case 8:  
....................        _I2C_Write_Byte(bin2bcd(mth_t));      // REG 5   
06C0:  MOVFF  72,78
06C4:  RCALL  0608
06C6:  MOVFF  01,78
06CA:  MOVFF  01,79
06CE:  RCALL  05BC
....................        timeSwitchPosition++;  
06D0:  INCF   47,F
....................    break;    
06D2:  BRA    06EC
....................     
....................    case 9: 
....................        _I2C_Write_Byte(bin2bcd(year_t));     // REG 6  
06D4:  MOVFF  73,78
06D8:  RCALL  0608
06DA:  MOVFF  01,78
06DE:  MOVFF  01,79
06E2:  RCALL  05BC
....................        timeSwitchPosition++;  
06E4:  INCF   47,F
....................    break; 
06E6:  BRA    06EC
....................     
....................    case 10: 
....................        _I2C_Stop();         
06E8:  RCALL  05D8
....................        timeSwitchPosition++;  
06EA:  INCF   47,F
....................    break;            
....................   }            
06EC:  GOTO   0D34 (RETURN)
.................... }                              
....................     
.................... void ds1307_get_time(){  
....................  switch(timeSwitchPosition){ 
*
077A:  MOVLW  0B
077C:  SUBWF  47,W
077E:  ADDLW  F7
0780:  BC    0800
0782:  ADDLW  09
0784:  GOTO   0804
....................    case 11: 
....................         _I2C_Start();                         // I2C write address  
0788:  RCALL  05A8
....................         timeSwitchPosition++;  
078A:  INCF   47,F
....................    break;  
078C:  BRA    0800
....................       
....................    case 12:  
....................         while(_I2C_Write_Byte(0xD0 + 0) == 1)   // Wait until device is free 
078E:  MOVLW  D0
0790:  MOVWF  79
0792:  RCALL  05BC
0794:  DECFSZ 01,W
0796:  BRA    079C
....................         {   _I2C_ReStart();   }     
0798:  RCALL  05D0
079A:  BRA    078E
....................         timeSwitchPosition++;  
079C:  INCF   47,F
....................    break;    
079E:  BRA    0800
....................     
....................    case 13:  
....................         _I2C_Write_Byte(0x00);                  // Start at REG 3 - Day of week   
07A0:  CLRF   79
07A2:  RCALL  05BC
....................         timeSwitchPosition++;  
07A4:  INCF   47,F
....................    break;  
07A6:  BRA    0800
....................     
....................    case 14:   
....................         _I2C_ReStart();  
07A8:  RCALL  05D0
....................         timeSwitchPosition++;  
07AA:  INCF   47,F
....................    break;    
07AC:  BRA    0800
....................     
....................    case 15:  
....................         _I2C_Write_Byte(0xD0 + 1);   
07AE:  MOVLW  D1
07B0:  MOVWF  79
07B2:  RCALL  05BC
....................         timeSwitchPosition++;  
07B4:  INCF   47,F
....................    break;     
07B6:  BRA    0800
....................     
....................    case 16:                 
....................         sec = bcd2bin(_I2C_Read_Byte(0) & 0x7F);  
07B8:  CLRF   71
07BA:  RCALL  0742
07BC:  MOVF   01,W
07BE:  ANDLW  7F
07C0:  MOVWF  71
07C2:  MOVWF  72
07C4:  RCALL  0760
07C6:  MOVFF  01,3C
....................         timeSwitchPosition++;  
07CA:  INCF   47,F
....................    break;  
07CC:  BRA    0800
....................     
....................    case 17: 
....................         min = bcd2bin(_I2C_Read_Byte(0) & 0x7F); 
07CE:  CLRF   71
07D0:  RCALL  0742
07D2:  MOVF   01,W
07D4:  ANDLW  7F
07D6:  MOVWF  71
07D8:  MOVWF  72
07DA:  RCALL  0760
07DC:  MOVFF  01,3D
....................         timeSwitchPosition++;  
07E0:  INCF   47,F
....................    break;    
07E2:  BRA    0800
....................                                 
....................    case 18: 
....................         hrs = bcd2bin(_I2C_Read_Byte(1) & 0x7F); 
07E4:  MOVLW  01
07E6:  MOVWF  71
07E8:  RCALL  0742
07EA:  MOVF   01,W
07EC:  ANDLW  7F
07EE:  MOVWF  71
07F0:  MOVWF  72
07F2:  RCALL  0760
07F4:  MOVFF  01,3E
....................         timeSwitchPosition++;  
07F8:  INCF   47,F
....................    break;   
07FA:  BRA    0800
....................     
....................    case 19:  
....................         _I2C_Stop();    
07FC:  RCALL  05D8
....................         timeSwitchPosition++;  
07FE:  INCF   47,F
....................    break;   
....................  
....................   }                    
0800:  GOTO   0D44 (RETURN)
.................... }                                                     
....................  
.................... void ds1307_get_date(){ 
....................    switch(timeSwitchPosition){ 
*
0B7E:  MOVLW  14
0B80:  SUBWF  47,W
0B82:  ADDLW  F6
0B84:  BTFSC  FD8.0
0B86:  BRA    0CD4
0B88:  ADDLW  0A
0B8A:  GOTO   0CD8
....................    case 20: 
....................         _I2C_Start();                         // I2C write address  
0B8E:  RCALL  05A8
....................         timeSwitchPosition++;  
0B90:  INCF   47,F
....................    break;      
0B92:  BRA    0CD4
....................       
....................    case 21:  
....................         while(_I2C_Write_Byte(0xD0 + 0) == 1)   // Wait until device is free 
0B94:  MOVLW  D0
0B96:  MOVWF  79
0B98:  RCALL  05BC
0B9A:  DECFSZ 01,W
0B9C:  BRA    0BA2
....................         {   _I2C_ReStart();   }  
0B9E:  RCALL  05D0
0BA0:  BRA    0B94
....................         timeSwitchPosition++;  
0BA2:  INCF   47,F
....................    break;    
0BA4:  BRA    0CD4
....................                 
....................    case 22:  
....................         _I2C_Write_Byte(0x03);                  // Start at REG 3 - Day of week   
0BA6:  MOVLW  03
0BA8:  MOVWF  79
0BAA:  RCALL  05BC
....................         timeSwitchPosition++;  
0BAC:  INCF   47,F
....................    break;  
0BAE:  BRA    0CD4
....................     
....................    case 23:   
....................         _I2C_ReStart();  
0BB0:  RCALL  05D0
....................         timeSwitchPosition++;  
0BB2:  INCF   47,F
....................    break;    
0BB4:  BRA    0CD4
....................     
....................    case 24:  
....................         _I2C_Write_Byte(0xD0 + 1);   
0BB6:  MOVLW  D1
0BB8:  MOVWF  79
0BBA:  RCALL  05BC
....................         timeSwitchPosition++;  
0BBC:  INCF   47,F
....................    break;     
0BBE:  BRA    0CD4
....................     
....................    case 25:  
....................         // lecture DS1307 retourne (une valeur binaire codee BCD 
....................          // ex retourne 19 ou 0x13   l'an 13                  
....................         dow    = bcd2bin(_I2C_Read_Byte(0) & 0x07);   // REG 3  
0BC0:  CLRF   71
0BC2:  RCALL  0742
0BC4:  MOVF   01,W
0BC6:  ANDLW  07
0BC8:  MOVWF  71
0BCA:  MOVWF  72
0BCC:  RCALL  0760
0BCE:  MOVFF  01,42
....................         timeSwitchPosition++;  
0BD2:  INCF   47,F
....................    break;  
0BD4:  BRA    0CD4
....................     
....................    case 26: 
....................         day    = bcd2bin(_I2C_Read_Byte(0) & 0x3F);   // REG 4  
0BD6:  CLRF   71
0BD8:  RCALL  0742
0BDA:  MOVF   01,W
0BDC:  ANDLW  3F
0BDE:  MOVWF  71
0BE0:  MOVWF  72
0BE2:  RCALL  0760
0BE4:  MOVFF  01,3F
....................         timeSwitchPosition++;  
0BE8:  INCF   47,F
....................    break;    
0BEA:  BRA    0CD4
....................     
....................    case 27: 
....................         month  = bcd2bin(_I2C_Read_Byte(0) & 0x1F);   // REG 5 
0BEC:  CLRF   71
0BEE:  RCALL  0742
0BF0:  MOVF   01,W
0BF2:  ANDLW  1F
0BF4:  MOVWF  71
0BF6:  MOVWF  72
0BF8:  RCALL  0760
0BFA:  MOVFF  01,40
....................         timeSwitchPosition++;  
0BFE:  INCF   47,F
....................    break;   
0C00:  BRA    0CD4
....................     
....................    case 28:  
....................         yr     = bcd2bin(_I2C_Read_Byte(1));    // REG 6   
0C02:  MOVLW  01
0C04:  MOVWF  71
0C06:  RCALL  0742
0C08:  MOVFF  01,71
0C0C:  MOVFF  01,72
0C10:  RCALL  0760
0C12:  MOVFF  01,41
....................         timeSwitchPosition++;  
0C16:  INCF   47,F
....................    break;   
0C18:  BRA    0CD4
....................     
....................    case 29:  
....................        _I2C_Stop();  
0C1A:  RCALL  05D8
....................        getDayText();  
0C1C:  BRA    0976
....................        sprintf(DATE_TIME,"  \%02d : \%02d : \%02d   %s - \%02d/\%02d/\%02d",hrs,min,sec,dayText,day,month,yr);        
0C1E:  CLRF   69
0C20:  MOVLW  48
0C22:  MOVWF  68
0C24:  MOVLW  20
0C26:  MOVWF  77
0C28:  RCALL  0A4C
0C2A:  MOVLW  20
0C2C:  MOVWF  77
0C2E:  RCALL  0A4C
0C30:  MOVFF  3E,71
0C34:  MOVLW  01
0C36:  MOVWF  72
0C38:  RCALL  0A90
0C3A:  MOVLW  D8
0C3C:  MOVWF  FF6
0C3E:  MOVLW  00
0C40:  MOVWF  FF7
0C42:  MOVLW  03
0C44:  MOVWF  71
0C46:  RCALL  0B3A
0C48:  MOVFF  3D,71
0C4C:  MOVLW  01
0C4E:  MOVWF  72
0C50:  RCALL  0A90
0C52:  MOVLW  DF
0C54:  MOVWF  FF6
0C56:  MOVLW  00
0C58:  MOVWF  FF7
0C5A:  MOVLW  03
0C5C:  MOVWF  71
0C5E:  RCALL  0B3A
0C60:  MOVFF  3C,71
0C64:  MOVLW  01
0C66:  MOVWF  72
0C68:  RCALL  0A90
0C6A:  MOVLW  E6
0C6C:  MOVWF  FF6
0C6E:  MOVLW  00
0C70:  MOVWF  FF7
0C72:  MOVLW  03
0C74:  MOVWF  71
0C76:  RCALL  0B3A
0C78:  CLRF   FEA
0C7A:  MOVLW  43
0C7C:  MOVWF  FE9
0C7E:  BRA    0B58
0C80:  MOVLW  EB
0C82:  MOVWF  FF6
0C84:  MOVLW  00
0C86:  MOVWF  FF7
0C88:  MOVLW  03
0C8A:  MOVWF  71
0C8C:  RCALL  0B3A
0C8E:  MOVFF  3F,71
0C92:  MOVLW  01
0C94:  MOVWF  72
0C96:  RCALL  0A90
0C98:  MOVLW  2F
0C9A:  MOVWF  77
0C9C:  RCALL  0A4C
0C9E:  MOVFF  40,71
0CA2:  MOVLW  01
0CA4:  MOVWF  72
0CA6:  RCALL  0A90
0CA8:  MOVLW  2F
0CAA:  MOVWF  77
0CAC:  RCALL  0A4C
0CAE:  MOVFF  41,71
0CB2:  MOVLW  01
0CB4:  MOVWF  72
0CB6:  RCALL  0A90
....................        memcpy(strLCD,DATE_TIME,32); 
0CB8:  CLRF   FEA
0CBA:  MOVLW  1A
0CBC:  MOVWF  FE9
0CBE:  CLRF   FE2
0CC0:  MOVLW  48
0CC2:  MOVWF  FE1
0CC4:  MOVLW  20
0CC6:  MOVWF  01
0CC8:  MOVFF  FE6,FEE
0CCC:  DECFSZ 01,F
0CCE:  BRA    0CC8
....................        timeSwitchPosition=11;  
0CD0:  MOVLW  0B
0CD2:  MOVWF  47
....................    break;    
....................   }            
0CD4:  GOTO   0D54 (RETURN)
.................... }      
....................  
....................          
....................             
....................        
.................... void getDayText(){                           
....................    switch(day_of_the_week(getYear(),getMonth(),getDay())){ 
*
0976:  BRA    083A
0978:  MOVFF  01,71
097C:  BRA    0842
097E:  MOVFF  01,72
0982:  BRA    084A
0984:  MOVFF  01,73
0988:  CLRF   75
098A:  MOVFF  71,74
098E:  CLRF   77
0990:  MOVFF  72,76
0994:  CLRF   79
0996:  MOVFF  01,78
099A:  BRA    0852
099C:  MOVFF  01,00
09A0:  MOVF   02,W
09A2:  MOVWF  03
09A4:  BNZ   09AA
09A6:  MOVF   00,F
09A8:  BZ    09E8
09AA:  MOVF   03,W
09AC:  BNZ   09B4
09AE:  MOVLW  01
09B0:  SUBWF  00,W
09B2:  BZ    09F6
09B4:  MOVF   03,W
09B6:  BNZ   09BE
09B8:  MOVLW  02
09BA:  SUBWF  00,W
09BC:  BZ    0A04
09BE:  MOVF   03,W
09C0:  BNZ   09C8
09C2:  MOVLW  03
09C4:  SUBWF  00,W
09C6:  BZ    0A12
09C8:  MOVF   03,W
09CA:  BNZ   09D2
09CC:  MOVLW  04
09CE:  SUBWF  00,W
09D0:  BZ    0A20
09D2:  MOVF   03,W
09D4:  BNZ   09DC
09D6:  MOVLW  05
09D8:  SUBWF  00,W
09DA:  BZ    0A2E
09DC:  MOVF   03,W
09DE:  BNZ   09E6
09E0:  MOVLW  06
09E2:  SUBWF  00,W
09E4:  BZ    0A3C
09E6:  BRA    0A48
....................      case 0: memcpy(dayText,"Sun",3); break; 
09E8:  MOVLW  53
09EA:  MOVWF  43
09EC:  MOVLW  75
09EE:  MOVWF  44
09F0:  MOVLW  6E
09F2:  MOVWF  45
09F4:  BRA    0A48
....................      case 1: memcpy(dayText,"Mon",3); break; 
09F6:  MOVLW  4D
09F8:  MOVWF  43
09FA:  MOVLW  6F
09FC:  MOVWF  44
09FE:  MOVLW  6E
0A00:  MOVWF  45
0A02:  BRA    0A48
....................      case 2: memcpy(dayText,"Tue",3); break; 
0A04:  MOVLW  54
0A06:  MOVWF  43
0A08:  MOVLW  75
0A0A:  MOVWF  44
0A0C:  MOVLW  65
0A0E:  MOVWF  45
0A10:  BRA    0A48
....................      case 3: memcpy(dayText,"Wed",3); break; 
0A12:  MOVLW  57
0A14:  MOVWF  43
0A16:  MOVLW  65
0A18:  MOVWF  44
0A1A:  MOVLW  64
0A1C:  MOVWF  45
0A1E:  BRA    0A48
....................      case 4: memcpy(dayText,"Thu",3); break; 
0A20:  MOVLW  54
0A22:  MOVWF  43
0A24:  MOVLW  68
0A26:  MOVWF  44
0A28:  MOVLW  75
0A2A:  MOVWF  45
0A2C:  BRA    0A48
....................      case 5: memcpy(dayText,"Fri",3); break; 
0A2E:  MOVLW  46
0A30:  MOVWF  43
0A32:  MOVLW  72
0A34:  MOVWF  44
0A36:  MOVLW  69
0A38:  MOVWF  45
0A3A:  BRA    0A48
....................      case 6: memcpy(dayText,"Sat",3); break; 
0A3C:  MOVLW  53
0A3E:  MOVWF  43
0A40:  MOVLW  61
0A42:  MOVWF  44
0A44:  MOVLW  74
0A46:  MOVWF  45
....................    }  
0A48:  GOTO   0C1E (RETURN)
.................... }    
....................  
.................... uchar_t getSec(){ 
....................    return sec;   
.................... }  
.................... uchar_t getMin(){ 
....................    return min;   
.................... }   
.................... uchar_t getHour(){                     
....................    return hrs; 
.................... }   
.................... uchar_t getDow(){ 
....................    return dow;   
.................... }   
.................... uchar_t getDay(){ 
....................    return day;   
*
084A:  MOVF   3F,W
084C:  MOVWF  01
084E:  GOTO   0984 (RETURN)
.................... }  
.................... uchar_t getMonth(){ 
....................    return month;   
*
0842:  MOVF   40,W
0844:  MOVWF  01
0846:  GOTO   097E (RETURN)
.................... }   
.................... uchar_t getYear(){ 
....................    return yr;   
*
083A:  MOVF   41,W
083C:  MOVWF  01
083E:  GOTO   0978 (RETURN)
.................... }                                            
.................... // <-------------      (0-7, Start Sunday)       ----------->  
.................... uint16_t day_of_the_week(uint16_t Y, uint16_t M, uint16_t D) {  
....................    uint16_t days[] = { 0, 3, 2, 5, 0, 3, 5, 1, 4, 6, 2, 4 };  
*
0852:  CLRF   7A
0854:  CLRF   7B
0856:  MOVLW  03
0858:  MOVWF  7C
085A:  CLRF   7D
085C:  MOVLW  02
085E:  MOVWF  7E
0860:  CLRF   7F
0862:  MOVLW  05
0864:  MOVWF  x80
0866:  CLRF   x81
0868:  CLRF   x82
086A:  CLRF   x83
086C:  MOVLW  03
086E:  MOVWF  x84
0870:  CLRF   x85
0872:  MOVLW  05
0874:  MOVWF  x86
0876:  CLRF   x87
0878:  MOVLW  01
087A:  MOVWF  x88
087C:  CLRF   x89
087E:  MOVLW  04
0880:  MOVWF  x8A
0882:  CLRF   x8B
0884:  MOVLW  06
0886:  MOVWF  x8C
0888:  CLRF   x8D
088A:  MOVLW  02
088C:  MOVWF  x8E
088E:  CLRF   x8F
0890:  MOVLW  04
0892:  MOVWF  x90
0894:  CLRF   x91
....................    if (M < 3)  
0896:  MOVF   77,F
0898:  BNZ   08A8
089A:  MOVF   76,W
089C:  SUBLW  02
089E:  BNC   08A8
....................       Y--;         
08A0:  MOVF   74,W
08A2:  BTFSC  FD8.2
08A4:  DECF   75,F
08A6:  DECF   74,F
....................    return (Y + Y / 4 - Y / 100 + Y / 400 + days[M - 1] + D) % 7;  
08A8:  RRCF   75,W
08AA:  MOVWF  03
08AC:  RRCF   74,W
08AE:  MOVWF  02
08B0:  RRCF   03,F
08B2:  RRCF   02,F
08B4:  MOVLW  3F
08B6:  ANDWF  03,F
08B8:  MOVF   02,W
08BA:  ADDWF  74,W
08BC:  MOVWF  x92
08BE:  MOVF   03,W
08C0:  ADDWFC 75,W
08C2:  MOVWF  x93
08C4:  CLRF   16
08C6:  BTFSC  FF2.7
08C8:  BSF    16.7
08CA:  BCF    FF2.7
08CC:  MOVFF  75,9A
08D0:  MOVFF  74,99
08D4:  CLRF   x9C
08D6:  MOVLW  64
08D8:  MOVWF  x9B
08DA:  RCALL  0402
08DC:  BTFSC  16.7
08DE:  BSF    FF2.7
08E0:  MOVFF  02,03
08E4:  MOVF   01,W
08E6:  SUBWF  x92,F
08E8:  MOVF   02,W
08EA:  SUBWFB x93,F
08EC:  CLRF   16
08EE:  BTFSC  FF2.7
08F0:  BSF    16.7
08F2:  BCF    FF2.7
08F4:  MOVFF  75,9A
08F8:  MOVFF  74,99
08FC:  MOVLW  01
08FE:  MOVWF  x9C
0900:  MOVLW  90
0902:  MOVWF  x9B
0904:  RCALL  0402
0906:  BTFSC  16.7
0908:  BSF    FF2.7
090A:  MOVFF  02,03
090E:  MOVF   01,W
0910:  ADDWF  x92,F
0912:  MOVF   02,W
0914:  ADDWFC x93,F
0916:  MOVLW  01
0918:  SUBWF  76,W
091A:  MOVWF  x94
091C:  MOVLW  00
091E:  SUBWFB 77,W
0920:  MOVWF  x95
0922:  BCF    FD8.0
0924:  RLCF   x94,W
0926:  MOVWF  02
0928:  RLCF   x95,W
092A:  MOVWF  03
092C:  MOVF   02,W
092E:  ADDLW  7A
0930:  MOVWF  FE9
0932:  MOVLW  00
0934:  ADDWFC 03,W
0936:  MOVWF  FEA
0938:  MOVFF  FEC,03
093C:  MOVF   FED,F
093E:  MOVF   FEF,W
0940:  ADDWF  x92,F
0942:  MOVF   03,W
0944:  ADDWFC x93,F
0946:  MOVF   78,W
0948:  ADDWF  x92,F
094A:  MOVF   79,W
094C:  ADDWFC x93,F
094E:  CLRF   16
0950:  BTFSC  FF2.7
0952:  BSF    16.7
0954:  BCF    FF2.7
0956:  MOVFF  93,9A
095A:  MOVFF  92,99
095E:  CLRF   x9C
0960:  MOVLW  07
0962:  MOVWF  x9B
0964:  RCALL  0402
0966:  BTFSC  16.7
0968:  BSF    FF2.7
096A:  MOVFF  00,01
096E:  MOVFF  03,02
0972:  GOTO   099C (RETURN)
.................... }  
....................  
....................                                                                                                                 
....................  
....................  
....................                               
....................                                     
.................... //TIMER1 UNION STRUCTURE AND COUNT MS 
.................... tmr1_time_t tmr1_time;  
.................... uint16_t iSayac; 
....................                       
.................... void setupTimerIOSC(void){          
....................    //Setup Osilator 
....................    IRCF2 = 1;   
*
04A4:  BSF    FD3.6
....................    IRCF1 = 1; 
04A6:  BSF    FD3.5
....................    IRCF0 = 1;                    
04A8:  BSF    FD3.4
....................                          
....................    //D ve P portlari cikis olarak ayarlanip sifirlandi. 
....................    TRISB = 0x00;                  
04AA:  CLRF   F93
....................    TRISD = 0x00; 
04AC:  CLRF   F95
....................    TRISE = 0x00;       
04AE:  CLRF   F96
....................    PORTB = 0x00;                                                       
04B0:  CLRF   F81
....................    PORTD = 0x00; 
04B2:  CLRF   F8C
....................    PORTE = 0x00;   
04B4:  CLRF   F84
....................                                                       
....................    //TMR1 etkinlik bayraklari sifirlandi 
....................    tmr1_time.all = 0; 
04B6:  CLRF   19
....................  
....................    // Kesmelere izin verildi 
....................    RCON_IPEN = 1;                                               
04B8:  BSF    FD0.7
....................    INTCON_GIE_GIEH = 1; 
04BA:  BSF    FF2.7
....................    INTCON_PEIE = 1;           
04BC:  BSF    FF2.6
....................    IPR1_TMR1IP = 1; // TMR1 Overflow Interrupt Priority bit 
04BE:  BSF    F9F.0
....................    PIE1_TMR1IE = 1; // TMR1 Overflow Interrupt Enable bit 
04C0:  BSF    F9D.0
....................    PIR1_TMR1IF = 0; // TMR1 Overflow Interrupt Flag bit 
04C2:  BCF    F9E.0
....................                                                                                        
....................    //TIMER1 Konfigurasyon //50us 
....................    T1CON_RD16 = 0; // 16 - bit Read / Write Mode Enable bit 
04C4:  BCF    FCD.7
....................    T1CON_T1RUN = 0; // Timer1 System Clock Statusbit 
04C6:  BCF    FCD.6
....................    T1CON_T1CKPS1 = 0; // Timer1 Input Clock Prescale Select bits | 1:1 Olcekleme 
04C8:  BCF    FCD.5
....................    T1CON_T1CKPS0 = 0; // Timer1 Input Clock Prescale Select bits | 
04CA:  BCF    FCD.4
....................    T1CON_T1OSCEN = 0; // Timer1 Oscillator Enable bit 
04CC:  BCF    FCD.3
....................    T1CON_T1SYNC = 0; // Timer1 External Clock Input Synchronization Select bit 
04CE:  BCF    FCD.2
....................    T1CON_TMR1CS = 0; // Timer1 Clock Source Select bit 
04D0:  BCF    FCD.1
....................    TMR1H = 0xF8; //Tasma saayci| 
04D2:  MOVLW  F8
04D4:  MOVWF  FCF
....................    TMR1L = 0x30; // |||65436 decimal sayisina esit. 
04D6:  MOVLW  30
04D8:  MOVWF  FCE
....................    T1CON_TMR1ON = 1; // Timer1 On bit                                            
04DA:  BSF    FCD.0
04DC:  GOTO   0130 (RETURN)
.................... } 
....................                       
.................... void printOn2x16(){                   
....................    delayUsFun(40);                                                                                                                                       
*
0554:  MOVLW  28
0556:  MOVWF  6E
0558:  RCALL  04E0
....................    twoLinesBCDMode();    
055A:  BRA    0522
....................    LinesActive();   
055C:  BRA    052C
....................    lcdCursorOff(); 
055E:  BRA    0536
....................    lcdShiftRight();                      
0560:  BRA    0540
....................    lcdClear();                                                    
0562:  BRA    054A
....................    memcpy(strLCD, "INFORMELEKTRONIKAR-GE    STAJYER", 32); 
0564:  CLRF   FEA
0566:  MOVLW  1A
0568:  MOVWF  FE9
056A:  MOVFF  FF2,6A
056E:  BCF    FF2.7
0570:  MOVLW  20
0572:  MOVWF  01
0574:  CLRF   FF7
0576:  MOVLW  00
0578:  RCALL  0096
057A:  TBLRD*-
057C:  TBLRD*+
057E:  MOVFF  FF5,FEE
0582:  DECFSZ 01,F
0584:  BRA    057C
0586:  BTFSC  6A.7
0588:  BSF    FF2.7
....................    countLCDChar=0;    
058A:  CLRF   3A
....................    LCDW1SecFlag=1; 
058C:  MOVLW  01
058E:  MOVWF  3B
0590:  GOTO   0132 (RETURN)
....................    // LCD_Custom_CHAR(7, legrandLCDCharacter); 
....................    //LCD_Custom_CHAR(6, stickManLCDCharacter);                                
.................... }                           
....................                                 
.................... void I2C_Init() {     
....................    SCL_DIR = 1;     //Set as a digital input 
0594:  BSF    F94.3
....................    SDA_DIR = 1;     //Set as a digital input 
0596:  BSF    F94.4
....................    SSPADD  = 19;  
0598:  MOVLW  13
059A:  MOVWF  FC8
....................    SSPCON1 = 0x28;  // enable I2C pins SCL and SDA for serial communication 
059C:  MOVLW  28
059E:  MOVWF  FC6
....................    //SSPCON2 = 0x00;   
....................    SSPSTAT = 0x80;  //slew rate disabled for high speed control       
05A0:  MOVLW  80
05A2:  MOVWF  FC7
05A4:  GOTO   0134 (RETURN)
.................... }                                               
....................  
....................  
.................... #INT_TIMER1                                                            
.................... void timer1_interrupt(){  
....................    TMR1H = 0xF8; //Tasma saayci| 
*
0444:  MOVLW  F8
0446:  MOVWF  FCF
....................    TMR1L = 0x30; // |||15536 decimal sayisina esit.  
0448:  MOVLW  30
044A:  MOVWF  FCE
....................    PIR1_TMR1IF = 0; // Kesme bayragi sifirlaniyor. 
044C:  BCF    F9E.0
....................    iSayac++;  
044E:  INCF   17,F
0450:  BTFSC  FD8.2
0452:  INCF   18,F
....................    if (iSayac % 2 == 0) //2ms   
0454:  MOVF   17,W
0456:  ANDLW  01
0458:  MOVWF  x99
045A:  CLRF   x9A
045C:  MOVF   x99,F
045E:  BNZ   0466
0460:  MOVF   x9A,F
0462:  BNZ   0466
....................       tmr1_time.tmr1_flags._2ms = true; 
0464:  BSF    19.0
....................    if (iSayac % 50 == 0) //50ms   
0466:  MOVFF  18,9A
046A:  MOVFF  17,99
046E:  CLRF   x9C
0470:  MOVLW  32
0472:  MOVWF  x9B
0474:  RCALL  0402
0476:  MOVFF  00,99
047A:  MOVFF  03,9A
047E:  MOVF   x99,F
0480:  BNZ   0488
0482:  MOVF   x9A,F
0484:  BNZ   0488
....................       tmr1_time.tmr1_flags._20ms = true; 
0486:  BSF    19.1
....................    if(iSayac > 1000){   // 1 Saniye   
0488:  MOVF   18,W
048A:  SUBLW  02
048C:  BC    049E
048E:  XORLW  FF
0490:  BNZ   0498
0492:  MOVF   17,W
0494:  SUBLW  E8
0496:  BC    049E
....................       tmr1_time.tmr1_flags._1000ms = true;  
0498:  BSF    19.6
....................       iSayac = 0;       
049A:  CLRF   18
049C:  CLRF   17
....................    }      
.................... }                              
....................                                    
049E:  BCF    F9E.0
04A0:  GOTO   0054
.................... #ORG 0x0100,0x0400                                                                     
.................... void main(){                                  
*
0100:  CLRF   FF8
0102:  BCF    FD0.7
0104:  BSF    07.7
0106:  MOVLW  70
0108:  MOVWF  FD3
010A:  MOVF   FD3,W
010C:  BCF    FB8.3
010E:  MOVLW  0C
0110:  MOVWF  FAF
0112:  MOVLW  A2
0114:  MOVWF  FAC
0116:  MOVLW  90
0118:  MOVWF  FAB
011A:  NOP   
011C:  NOP   
011E:  CLRF   69
0120:  CLRF   68
0122:  MOVF   FC1,W
0124:  ANDLW  C0
0126:  IORLW  0F
0128:  MOVWF  FC1
012A:  MOVLW  07
012C:  MOVWF  FB4
....................    setupTimerIOSC();                                                      
012E:  BRA    04A4
....................    printOn2x16();  
0130:  BRA    0554
....................    I2C_Init();  
0132:  BRA    0594
....................    DS1307_Init();   
0134:  BRA    05E0
....................    while (TRUE){                         
....................      WDTreset();       
0136:  BRA    0602
....................      if(tmr1_time.tmr1_flags._1000ms){                       
0138:  BTFSS  19.6
013A:  BRA    0144
....................         tmr1_time.tmr1_flags._1000ms = false;     
013C:  BCF    19.6
....................         PORTB_7=~PORTB_7;                  
013E:  BTG    F81.7
....................         LCDW1SecFlag=1;                           
0140:  MOVLW  01
0142:  MOVWF  3B
....................         //printf("\f\%02d/\%02d/\%02d -->%s\r\n",getDay(),getMonth(),getYear(),dayText); 
....................         //printf("\%02d:\%02d:\%02d", getHour(),getMin(),getSec()); 
....................      }  
....................      if(tmr1_time.tmr1_flags._20ms){ 
0144:  BTFSS  19.1
0146:  BRA    016A
....................         tmr1_time.tmr1_flags._20ms = false; 
0148:  BCF    19.1
....................         ds1307_run(27,7,23,2,14,59,10); 
014A:  MOVLW  1B
014C:  MOVWF  6A
014E:  MOVLW  07
0150:  MOVWF  6B
0152:  MOVLW  17
0154:  MOVWF  6C
0156:  MOVLW  02
0158:  MOVWF  6D
015A:  MOVLW  0E
015C:  MOVWF  6E
015E:  MOVLW  3B
0160:  MOVWF  6F
0162:  MOVLW  0A
0164:  MOVWF  70
0166:  GOTO   0D10
....................      } 
....................      if(tmr1_time.tmr1_flags._2ms){ 
016A:  BTFSS  19.0
016C:  BRA    0178
....................         tmr1_time.tmr1_flags._2ms = false;                                                                                               
016E:  BCF    19.0
....................         if(LCDW1SecFlag){      
0170:  MOVF   3B,F
0172:  BZ    0178
....................            LCD_String();   
0174:  GOTO   0DA8
....................                                       
....................         }            
....................      }                    
0178:  BRA    0136
....................   }   
.................... }  
....................  
017A:  SLEEP 
.................... void WDTreset(void){          
....................    #asm                   
*
0602:  CLRWDT
....................    CLRWDT                           
....................    #endasm                                  
0604:  GOTO   0138 (RETURN)
.................... }            
....................                                         

Configuration Fuses:
   Word  1: C800   INTRC_IO FCMEN IESO
   Word  2: 011E   PUT BROWNOUT BORV21 WDT WDT1
   Word  3: 0700   CCP2C1 PBADEN LPT1OSC NOMCLR
   Word  4: 0081   STVREN NOLVP NOXINST NODEBUG
   Word  5: C00F   NOPROTECT NOCPB NOCPD
   Word  6: E00F   NOWRT NOWRTC NOWRTB NOWRTD
   Word  7: 400F   NOEBTR NOEBTRB
